import{j as D,r as y,P as we,bI as re,m as I,u as ye,l as Je,av as Ze,aa as xe,ab as Se,aS as et,ak as Q,bl as tt,bm as nt,bk as rt,ao as te,ap as le,o as $,bq as ot,ah as $e,s as at,bp as Te,i as b,bJ as J,e as M,g as W,f as H,a_ as it,ac as st,k as _e,R as de,Q as ce,n as lt,a$ as dt,bK as ct,am as ue,$ as A,b0 as ut,al as ft,t as mt,y as E,z as P,A as U,bE as ht,b1 as G,C as X,aj as Ee,_ as oe,bL as vt,as as ne,az as pt,aA as Ce,ay as K,D as N,F as O,H as k,an as Ie,G as V,aq as ke,at as gt,bM as bt,aU as wt,B as yt,b6 as xt}from"./index-87KkL8yW.js";import{f as St,h as $t,i as Tt,l as q,g as ae,a as fe,u as _t,m as Et,d as Ct}from"./index-CSUgMYro.js";import{_ as It}from"./DonationList-JqpwjZYy.js";const kt=D({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(e){const t=y(!!e.show),n=y(null),a=we(re);let d=0,v="",u=null;const c=y(!1),h=y(!1),m=I(()=>e.placement==="top"||e.placement==="bottom"),{mergedClsPrefixRef:f,mergedRtlRef:g}=ye(e),w=Je("Drawer",g,f),x=r,p=l=>{h.value=!0,d=m.value?l.clientY:l.clientX,v=document.body.style.cursor,document.body.style.cursor=m.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",s),document.body.addEventListener("mouseleave",x),document.body.addEventListener("mouseup",r)},L=()=>{u!==null&&(window.clearTimeout(u),u=null),h.value?c.value=!0:u=window.setTimeout(()=>{c.value=!0},300)},R=()=>{u!==null&&(window.clearTimeout(u),u=null),c.value=!1},{doUpdateHeight:T,doUpdateWidth:C}=a,z=l=>{const{maxWidth:S}=e;if(S&&l>S)return S;const{minWidth:_}=e;return _&&l<_?_:l},j=l=>{const{maxHeight:S}=e;if(S&&l>S)return S;const{minHeight:_}=e;return _&&l<_?_:l};function s(l){var S,_;if(h.value)if(m.value){let B=((S=n.value)===null||S===void 0?void 0:S.offsetHeight)||0;const F=d-l.clientY;B+=e.placement==="bottom"?F:-F,B=j(B),T(B),d=l.clientY}else{let B=((_=n.value)===null||_===void 0?void 0:_.offsetWidth)||0;const F=d-l.clientX;B+=e.placement==="right"?F:-F,B=z(B),C(B),d=l.clientX}}function r(){h.value&&(d=0,h.value=!1,document.body.style.cursor=v,document.body.removeEventListener("mousemove",s),document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mouseleave",x))}Ze(()=>{e.show&&(t.value=!0)}),xe(()=>e.show,l=>{l||r()}),Se(()=>{r()});const i=I(()=>{const{show:l}=e,S=[[le,l]];return e.showMask||S.push([et,e.onClickoutside,void 0,{capture:!0}]),S});function o(){var l;t.value=!1,(l=e.onAfterLeave)===null||l===void 0||l.call(e)}return St(I(()=>e.blockScroll&&t.value)),Q(tt,n),Q(nt,null),Q(rt,null),{bodyRef:n,rtlEnabled:w,mergedClsPrefix:a.mergedClsPrefixRef,isMounted:a.isMountedRef,mergedTheme:a.mergedThemeRef,displayed:t,transitionName:I(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[e.placement]),handleAfterLeave:o,bodyDirectives:i,handleMousedownResizeTrigger:p,handleMouseenterResizeTrigger:L,handleMouseleaveResizeTrigger:R,isDragging:h,isHoverOnResizeTrigger:c}},render(){const{$slots:e,mergedClsPrefix:t}=this;return this.displayDirective==="show"||this.displayed||this.show?te($("div",{role:"none"},$(ot,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>$($e,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>te($("div",at(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${t}-drawer`,this.rtlEnabled&&`${t}-drawer--rtl`,`${t}-drawer--${this.placement}-placement`,this.isDragging&&`${t}-drawer--unselectable`,this.nativeScrollbar&&`${t}-drawer--native-scrollbar`]}),[this.resizable?$("div",{class:[`${t}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${t}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?$("div",{class:[`${t}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},e):$(Te,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${t}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),e)]),this.bodyDirectives)})})),[[le,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:zt,cubicBezierEaseOut:Mt}=J;function Ot({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-right"}={}){return[b(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${zt}`}),b(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Mt}`}),b(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),b(`&.${n}-transition-enter-from`,{transform:"translateX(100%)"}),b(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),b(`&.${n}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:Rt,cubicBezierEaseOut:Bt}=J;function Pt({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-left"}={}){return[b(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${Rt}`}),b(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Bt}`}),b(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),b(`&.${n}-transition-enter-from`,{transform:"translateX(-100%)"}),b(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),b(`&.${n}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:Dt,cubicBezierEaseOut:Lt}=J;function jt({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-top"}={}){return[b(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${Dt}`}),b(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Lt}`}),b(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),b(`&.${n}-transition-enter-from`,{transform:"translateY(-100%)"}),b(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),b(`&.${n}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:Wt,cubicBezierEaseOut:Nt}=J;function Ft({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-bottom"}={}){return[b(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${Wt}`}),b(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Nt}`}),b(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),b(`&.${n}-transition-enter-from`,{transform:"translateY(100%)"}),b(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),b(`&.${n}-transition-leave-to`,{transform:"translateY(100%)"})]}const Ht=b([M("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[Ot(),Pt(),jt(),Ft(),W("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),W("native-scrollbar",[M("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),H("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[W("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),M("drawer-content-wrapper",`
 box-sizing: border-box;
 `),M("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[W("native-scrollbar",[M("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),M("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),M("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),M("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[H("main",`
 flex: 1;
 `),H("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),M("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),W("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-bottom-left-radius: var(--n-border-radius);
 `,[H("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),W("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 border-top-right-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[H("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),W("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[H("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),W("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 `,[H("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),b("body",[b(">",[M("drawer-container",`
 position: fixed;
 `)])]),M("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[b("> *",`
 pointer-events: all;
 `)]),M("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[W("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),it({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),At=Object.assign(Object.assign({},_e.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Ut=D({name:"Drawer",inheritAttrs:!1,props:At,setup(e){const{mergedClsPrefixRef:t,namespaceRef:n,inlineThemeDisabled:a}=ye(e),d=st(),v=_e("Drawer","-drawer",Ht,ct,e,t),u=y(e.defaultWidth),c=y(e.defaultHeight),h=de(ce(e,"width"),u),m=de(ce(e,"height"),c),f=I(()=>{const{placement:r}=e;return r==="top"||r==="bottom"?"":ue(h.value)}),g=I(()=>{const{placement:r}=e;return r==="left"||r==="right"?"":ue(m.value)}),w=r=>{const{onUpdateWidth:i,"onUpdate:width":o}=e;i&&A(i,r),o&&A(o,r),u.value=r},x=r=>{const{onUpdateHeight:i,"onUpdate:width":o}=e;i&&A(i,r),o&&A(o,r),c.value=r},p=I(()=>[{width:f.value,height:g.value},e.drawerStyle||""]);function L(r){const{onMaskClick:i,maskClosable:o}=e;o&&z(!1),i&&i(r)}function R(r){L(r)}const T=$t();function C(r){var i;(i=e.onEsc)===null||i===void 0||i.call(e),e.show&&e.closeOnEsc&&Tt(r)&&(T.value||z(!1))}function z(r){const{onHide:i,onUpdateShow:o,"onUpdate:show":l}=e;o&&A(o,r),l&&A(l,r),i&&!r&&A(i,r)}Q(re,{isMountedRef:d,mergedThemeRef:v,mergedClsPrefixRef:t,doUpdateShow:z,doUpdateHeight:x,doUpdateWidth:w});const j=I(()=>{const{common:{cubicBezierEaseInOut:r,cubicBezierEaseIn:i,cubicBezierEaseOut:o},self:{color:l,textColor:S,boxShadow:_,lineHeight:B,headerPadding:F,footerPadding:Pe,borderRadius:De,bodyPadding:Le,titleFontSize:je,titleTextColor:We,titleFontWeight:Ne,headerBorderBottom:Fe,footerBorderTop:He,closeIconColor:Ae,closeIconColorHover:Ue,closeIconColorPressed:Xe,closeColorHover:Ge,closeColorPressed:Ye,closeIconSize:Ve,closeSize:qe,closeBorderRadius:Qe,resizableTriggerColorHover:Ke}}=v.value;return{"--n-line-height":B,"--n-color":l,"--n-border-radius":De,"--n-text-color":S,"--n-box-shadow":_,"--n-bezier":r,"--n-bezier-out":o,"--n-bezier-in":i,"--n-header-padding":F,"--n-body-padding":Le,"--n-footer-padding":Pe,"--n-title-text-color":We,"--n-title-font-size":je,"--n-title-font-weight":Ne,"--n-header-border-bottom":Fe,"--n-footer-border-top":He,"--n-close-icon-color":Ae,"--n-close-icon-color-hover":Ue,"--n-close-icon-color-pressed":Xe,"--n-close-size":qe,"--n-close-color-hover":Ge,"--n-close-color-pressed":Ye,"--n-close-icon-size":Ve,"--n-close-border-radius":Qe,"--n-resize-trigger-color-hover":Ke}}),s=a?lt("drawer",void 0,j,e):void 0;return{mergedClsPrefix:t,namespace:n,mergedBodyStyle:p,handleOutsideClick:R,handleMaskClick:L,handleEsc:C,mergedTheme:v,cssVars:a?void 0:j,themeClass:s?.themeClass,onRender:s?.onRender,isMounted:d}},render(){const{mergedClsPrefix:e}=this;return $(dt,{to:this.to,show:this.show},{default:()=>{var t;return(t=this.onRender)===null||t===void 0||t.call(this),te($("div",{class:[`${e}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?$($e,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?$("div",{"aria-hidden":!0,class:[`${e}-drawer-mask`,this.showMask==="transparent"&&`${e}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,$(kt,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[ut,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Xt={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Gt=D({name:"DrawerContent",props:Xt,setup(){const e=we(re,null);e||ft("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:t}=e;function n(){t(!1)}return{handleCloseClick:n,mergedTheme:e.mergedThemeRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{title:e,mergedClsPrefix:t,nativeScrollbar:n,mergedTheme:a,bodyClass:d,bodyStyle:v,bodyContentClass:u,bodyContentStyle:c,headerClass:h,headerStyle:m,footerClass:f,footerStyle:g,scrollbarProps:w,closable:x,$slots:p}=this;return $("div",{role:"none",class:[`${t}-drawer-content`,n&&`${t}-drawer-content--native-scrollbar`]},p.header||e||x?$("div",{class:[`${t}-drawer-header`,h],style:m,role:"none"},$("div",{class:`${t}-drawer-header__main`,role:"heading","aria-level":"1"},p.header!==void 0?p.header():e),x&&$(mt,{onClick:this.handleCloseClick,clsPrefix:t,class:`${t}-drawer-header__close`,absolute:!0})):null,n?$("div",{class:[`${t}-drawer-body`,d],style:v,role:"none"},$("div",{class:[`${t}-drawer-body-content-wrapper`,u],style:c,role:"none"},p)):$(Te,Object.assign({themeOverrides:a.peerOverrides.Scrollbar,theme:a.peers.Scrollbar},w,{class:`${t}-drawer-body`,contentClass:[`${t}-drawer-body-content-wrapper`,u],contentStyle:c}),p),p.footer?$("div",{class:[`${t}-drawer-footer`,f],style:g,role:"none"},p.footer()):null)}}),Yt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},Vt=U("g",{fill:"none"},[U("path",{d:"M3.5 13h9a.5.5 0 0 1 .09.992L12.5 14h-9a.5.5 0 0 1-.09-.992L3.5 13h9h-9zM7.91 1.008L8 1a.5.5 0 0 1 .492.41l.008.09v8.792l2.682-2.681a.5.5 0 0 1 .638-.058l.07.058a.5.5 0 0 1 .057.638l-.058.069l-3.535 3.536a.5.5 0 0 1-.638.057l-.07-.057l-3.535-3.536a.5.5 0 0 1 .638-.765l.069.058L7.5 10.292V1.5a.5.5 0 0 1 .41-.492L8 1l-.09.008z",fill:"currentColor"})],-1),qt=[Vt],ze=D({name:"ArrowDownload16Regular",render:function(t,n){return E(),P("svg",Yt,qt)}});function Qt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ie=Qt,Kt=typeof q=="object"&&q&&q.Object===Object&&q,Jt=Kt,Zt=Jt,en=typeof self=="object"&&self&&self.Object===Object&&self,tn=Zt||en||Function("return this")(),Me=tn,nn=Me,rn=function(){return nn.Date.now()},on=rn,an=/\s/;function sn(e){for(var t=e.length;t--&&an.test(e.charAt(t)););return t}var ln=sn,dn=ln,cn=/^\s+/;function un(e){return e&&e.slice(0,dn(e)+1).replace(cn,"")}var fn=un,mn=Me,hn=mn.Symbol,Oe=hn,me=Oe,Re=Object.prototype,vn=Re.hasOwnProperty,pn=Re.toString,Y=me?me.toStringTag:void 0;function gn(e){var t=vn.call(e,Y),n=e[Y];try{e[Y]=void 0;var a=!0}catch{}var d=pn.call(e);return a&&(t?e[Y]=n:delete e[Y]),d}var bn=gn,wn=Object.prototype,yn=wn.toString;function xn(e){return yn.call(e)}var Sn=xn,he=Oe,$n=bn,Tn=Sn,_n="[object Null]",En="[object Undefined]",ve=he?he.toStringTag:void 0;function Cn(e){return e==null?e===void 0?En:_n:ve&&ve in Object(e)?$n(e):Tn(e)}var In=Cn;function kn(e){return e!=null&&typeof e=="object"}var zn=kn,Mn=In,On=zn,Rn="[object Symbol]";function Bn(e){return typeof e=="symbol"||On(e)&&Mn(e)==Rn}var Pn=Bn,Dn=fn,pe=ie,Ln=Pn,ge=NaN,jn=/^[-+]0x[0-9a-f]+$/i,Wn=/^0b[01]+$/i,Nn=/^0o[0-7]+$/i,Fn=parseInt;function Hn(e){if(typeof e=="number")return e;if(Ln(e))return ge;if(pe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=pe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Dn(e);var n=Wn.test(e);return n||Nn.test(e)?Fn(e.slice(2),n?2:8):jn.test(e)?ge:+e}var An=Hn,Un=ie,ee=on,be=An,Xn="Expected a function",Gn=Math.max,Yn=Math.min;function Vn(e,t,n){var a,d,v,u,c,h,m=0,f=!1,g=!1,w=!0;if(typeof e!="function")throw new TypeError(Xn);t=be(t)||0,Un(n)&&(f=!!n.leading,g="maxWait"in n,v=g?Gn(be(n.maxWait)||0,t):v,w="trailing"in n?!!n.trailing:w);function x(r){var i=a,o=d;return a=d=void 0,m=r,u=e.apply(o,i),u}function p(r){return m=r,c=setTimeout(T,t),f?x(r):u}function L(r){var i=r-h,o=r-m,l=t-i;return g?Yn(l,v-o):l}function R(r){var i=r-h,o=r-m;return h===void 0||i>=t||i<0||g&&o>=v}function T(){var r=ee();if(R(r))return C(r);c=setTimeout(T,L(r))}function C(r){return c=void 0,w&&a?x(r):(a=d=void 0,u)}function z(){c!==void 0&&clearTimeout(c),m=0,a=h=d=c=void 0}function j(){return c===void 0?u:C(ee())}function s(){var r=ee(),i=R(r);if(a=arguments,d=this,h=r,i){if(c===void 0)return p(h);if(g)return clearTimeout(c),c=setTimeout(T,t),x(h)}return c===void 0&&(c=setTimeout(T,t)),u}return s.cancel=z,s.flush=j,s}var Be=Vn;const qn=ae(Be);function Qn(e){return new Promise(t=>{const n=new Image;n.onload=function(){t({width:n.width,height:n.height,src:e})},n.src=e})}const Cr=ht("paperWallet",()=>{const e=qn(i,200,{leading:!0,trailing:!1}),t=y([]);function n(o){e(),t.value=[...o]}function a(o){e(),t.value=t.value.map(l=>l.id===o.id?o:l)}function d(o){e(),t.value=t.value.filter(l=>l.id!==o.id)}function v(o){const l=t.value.findIndex(_=>_.id===o.id);if(l===0)return;e();const S=t.value[l-1];t.value[l-1]=o,t.value[l]=S}function u(o){const l=t.value.findIndex(_=>_.id===o.id);if(l===t.value.length-1)return;e();const S=t.value[l+1];t.value[l+1]=o,t.value[l]=S}async function c(o="Text"){const l={id:`${Date.now()}`,font:"Courier New",type:"TEXT",text:o,align:"center",alignLast:"auto",color:"#333333FF",size:16,weight:400,position:{x:10,y:10,width:300,rotate:0,transformOrigin:"center center"}};e(),t.value.push(l)}async function h(o=""){const{width:l}=await Qn(o),S={id:`${Date.now()}`,type:"IMAGE",src:o,position:{x:0,y:0,width:l,rotate:0,transformOrigin:"center center"}};e(),t.value.push(S)}async function m(o="QrCode"){const l={id:`${Date.now()}`,type:"QR_CODE",text:o,color:"#000000FF",background:"#00000000",position:{x:0,y:0,width:100,rotate:0,transformOrigin:"center center"}};e(),t.value.push(l)}const f=I(()=>[...t.value].reverse());function g(o){n([...o].reverse())}const w=y("EDIT");function x(o){w.value=o}const p=y(null),L=I(()=>t.value.find(o=>o.id===p.value)||null);function R(o){if(!o){p.value=null;return}p.value=o.id}const T=y([]),C=y([]);function z(){if(!T.value.length)return;const o=T.value.splice(-1)[0];o&&(C.value.push(t.value),t.value=o)}function j(){if(!C.value.length)return;const o=C.value.splice(-1)[0];o&&(T.value.push(t.value),t.value=o)}function s(){for(;T.value.length>=15;)T.value.shift();T.value.push([...t.value])}function r(){C.value=[]}function i(){s(),r()}return{items:t,canvasMode:w,selectedItemId:p,undoStack:T,redoStack:C,selectedItem:L,revertedItems:f,setItems:n,setRevertedItems:g,updateItem:a,addItemText:c,addItemImage:h,addItemQRCode:m,removeItem:d,moveItemUp:u,moveItemDown:v,setCanvasMode:x,setSelectItem:R,undo:z,redo:j}}),Kn=["src"],Jn=D({__name:"PaperWalletCanvasImage",props:{item:{}},emits:["load"],setup(e,{emit:t}){const n=t,a=e,d=I(()=>({cursor:"move",position:"absolute",left:a.item.position.x+"px",top:a.item.position.y+"px",width:a.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${a.item.position.rotate}deg)`,transformOrigin:a.item.position.transformOrigin}));return(v,u)=>(E(),P("img",{src:v.item.src,alt:"",draggable:"false",style:G(d.value),onLoad:u[0]||(u[0]=c=>n("load",v.item))},null,44,Kn))}}),Zn=D({__name:"PaperWalletCanvasQrCode",props:{item:{}},setup(e){const t=e,n=I(()=>({cursor:"move",position:"absolute",left:t.item.position.x+"px",top:t.item.position.y+"px",width:t.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${t.item.position.rotate}deg)`,transformOrigin:t.item.position.transformOrigin,lineHeight:0}));return(a,d)=>(E(),X(It,{text:a.item.text,width:a.item.position.width,style:G(n.value),background:a.item.background,color:a.item.color},null,8,["text","width","style","background","color"]))}}),er=["innerHTML"],tr=["innerHTML"],nr="plaintext-only",rr=D({__name:"PaperWalletCanvasText",props:{item:{}},emits:["updateText"],setup(e,{emit:t}){const n=e,a=t,d=I(()=>({cursor:"move",position:"absolute",fontFamily:n.item.font,fontSize:n.item.size+"px",fontWeight:n.item.weight,textAlign:n.item.align,textAlignLast:n.item.alignLast,color:n.item.color,left:n.item.position.x+"px",top:n.item.position.y+"px",width:n.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${n.item.position.rotate}deg)`,transformOrigin:n.item.position.transformOrigin,lineHeight:"normal"})),v=y(),u=y(!1),c=y(""),h=I(()=>n.item.text.replace(/\n/g,"<br>"));function m(w){const x=w.target?.textContent||"";a("updateText",x)}function f(){u.value=!0,c.value=n.item.text,Ee(()=>{const w=v.value;if(!w)return;w.focus();const x=document.createRange();x.selectNodeContents(w),x.collapse(!1);const p=window.getSelection();p&&(p.removeAllRanges(),p.addRange(x))})}function g(){u.value=!1}return(w,x)=>u.value?(E(),P("div",{key:1,contenteditable:nr,onBlur:g,onInput:m,style:G(d.value),ref_key:"editRef",ref:v,innerHTML:c.value,class:"paper-wallet-canvas-text__editable"},null,44,tr)):(E(),P("div",{key:0,onDblclick:f,style:G(d.value),innerHTML:h.value},null,44,er))}}),or=oe(rr,[["__scopeId","data-v-9e6e5f04"]]),ar=D({__name:"PaperWalletCanvas",props:{items:{},view:{},isEditMode:{type:Boolean},selectedItemId:{}},emits:["updateItem","select","load"],setup(e,{expose:t,emit:n}){const a=n,d=e,v=y(null);let u=!1,c=null,h=0,m=0;function f(s,r){d.isEditMode&&(u=!0,c=s,a("select",s),h=s.position.x-r.clientX,m=s.position.y-r.clientY,addEventListener("mouseup",g))}function g(){u=!1,c=null,removeEventListener("mouseup",g)}function w(s,r){!d.isEditMode||r.touches.length>1||(u=!0,c=s,a("select",s),h=s.position.x-r.touches[0].clientX,m=s.position.y-r.touches[0].clientY,addEventListener("touchend",p),addEventListener("touchcancel",p))}function x(s){if(!u||!c||s.touches.length>1)return;s.preventDefault();const r=R(h+s.touches[0].clientX,m+s.touches[0].clientY,c);a("updateItem",r)}function p(){u=!1,c=null,removeEventListener("touchend",p),removeEventListener("touchcancel",p)}vt(()=>{removeEventListener("mouseup",g),removeEventListener("touchend",p),removeEventListener("touchcancel",p)});function L(s){if(!u||!c)return;const r=R(h+s.clientX,m+s.clientY,c);a("updateItem",r)}function R(s,r,i){return{...i,position:{...i.position,x:s,y:r}}}function T(s,r){const i={...s,text:r};a("updateItem",i)}const C=y([]),z=I(()=>new Set(d.items.filter(s=>s.type==="IMAGE").map(s=>s.id)));function j(s){C.value=[...C.value,s.id].filter(r=>z.value.has(r))}return xe(()=>v.value&&C.value.length===z.value.size,s=>{s&&a("load")},{immediate:!0}),t({targetElement:v}),(s,r)=>(E(),P("div",{class:Ce(["paper-wallet-canvas",{"paper-wallet-canvas--edit-mode":s.view==="EDIT","paper-wallet-canvas--print-mode":s.view==="PRINT"}]),onMousemove:L,onTouchmove:x,ref_key:"targetElement",ref:v,"data-test-el":"paper-wallet-canvas"},[(E(!0),P(ne,null,pt(s.items,i=>(E(),P(ne,{key:i.id},[i.type==="TEXT"?(E(),X(or,{key:0,item:i,onMousedown:o=>f(i,o),onTouchstart:o=>w(i,o),onUpdateText:o=>T(i,o),"data-selected-item":s.selectedItemId===i.id},null,8,["item","onMousedown","onTouchstart","onUpdateText","data-selected-item"])):K("",!0),i.type==="IMAGE"?(E(),X(Jn,{key:1,item:i,"data-selected-item":s.selectedItemId===i.id,onMousedown:o=>f(i,o),onTouchstart:o=>w(i,o),onLoad:j},null,8,["item","data-selected-item","onMousedown","onTouchstart"])):i.type==="QR_CODE"?(E(),X(Zn,{key:2,item:i,onMousedown:o=>f(i,o),onTouchstart:o=>w(i,o),"data-selected-item":s.selectedItemId===i.id},null,8,["item","onMousedown","onTouchstart","data-selected-item"])):K("",!0)],64))),128))],34))}}),ir=oe(ar,[["__scopeId","data-v-7862aedc"]]),sr=D({__name:"PaperWalletDownloadForm",props:{loading:{type:Boolean}},emits:["submit"],setup(e,{emit:t}){const n=t,a=y("PNG"),d=y("PRINT"),v=[{label:"Download as PNG",value:"PNG"},{label:"Download as JPEG",value:"JPEG"}],u=[{label:"Print Mode",value:"PRINT"},{label:"Preview Mode",value:"VIEW"},{label:"Edit Mode",value:"EDIT"}];async function c(){n("submit",{typeOfDownload:a.value,canvasMode:d.value})}return(h,m)=>(E(),X(k(gt),null,{default:N(()=>[O(k(fe),{trigger:"hover",options:v,value:a.value,"onUpdate:value":m[0]||(m[0]=f=>a.value=f),"consistent-menu-width":!1,style:{minWidth:"170px"}},null,8,["value"]),O(k(fe),{trigger:"hover",options:u,value:d.value,"onUpdate:value":m[1]||(m[1]=f=>d.value=f),"consistent-menu-width":!1,style:{minWidth:"170px"}},null,8,["value"]),O(k(ke),{loading:h.loading,onClick:c},{icon:N(()=>[O(k(Ie),null,{default:N(()=>[O(k(ze))]),_:1})]),default:N(()=>[m[2]||(m[2]=V(" Download "))]),_:1},8,["loading"])]),_:1}))}});var lr=Be,dr=ie,cr="Expected a function";function ur(e,t,n){var a=!0,d=!0;if(typeof e!="function")throw new TypeError(cr);return dr(n)&&(a="leading"in n?!!n.leading:a,d="trailing"in n?!!n.trailing:d),lr(e,t,{leading:a,maxWait:t,trailing:d})}var fr=ur;const mr=ae(fr),hr={class:"resizable-paper-wallet-wrapper"},vr=D({__name:"ResizablePaperWalletWrapper",props:{bordered:{type:Boolean}},setup(e){const t=y(),n=bt(),a=y(1),d=y("auto"),v=e,u=I(()=>({"resizable-paper-wallet-wrapper__container":!0,"resizable-paper-wallet-wrapper__bordered":v.bordered,"resizable-paper-wallet-wrapper__bordered--dark":v.bordered&&n.value}));function c(m){return Math.max(0,...[...m.children].map(f=>f instanceof HTMLDivElement?f.offsetWidth:0))}const h=mr(()=>{if(!t.value){console.error("Container not found");return}const m=c(t.value);if(!m)return;const f=t.value.offsetWidth/m;a.value=f<1?f:1,d.value=`${t.value.offsetHeight*a.value}px`},100);return wt(()=>{window.addEventListener("resize",h),h()}),Se(()=>{window.removeEventListener("resize",h)}),(m,f)=>(E(),P("div",hr,[U("div",{ref:"container",class:Ce(u.value),style:G({height:d.value})},[U("div",{class:"resizable-paper-wallet-wrapper__area",ref_key:"area",ref:t,style:G({transform:`scale(${a.value})`})},[yt(m.$slots,"default",{},void 0,!0)],4)],6)]))}}),Ir=oe(vr,[["__scopeId","data-v-c8e123f2"]]);var Z={exports:{}};Z.exports=se;Z.exports.isMobile=se;Z.exports.default=se;const pr=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,gr=/CrOS/,br=/android|ipad|playbook|silk/i;function se(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=pr.test(t)&&!gr.test(t)||!!e.tablet&&br.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var wr=Z.exports;const yr=ae(wr),xr={key:0},Sr={key:0,style:{position:"fixed",overflow:"hidden",display:"grid",width:"0",height:"0",top:"0",left:"0"}},$r={style:{overflow:"scroll"}},kr=D({__name:"DownloadPaperWallet",props:{items:{}},setup(e){const t=_t(),n=y(),a=y(!1),d=y(!1),v=y("PNG"),u=y("PRINT"),c=Et();async function h(f){u.value=f.canvasMode,v.value=f.typeOfDownload,d.value=!0}async function m(){await Ee(),await new Promise(f=>setTimeout(f,yr()?500:1));try{let f=n.value?.targetElement;if(!f){d.value=!1,t.error("Problem with canvas element");return}await Ct(f,v.value,"paper-wallet",!0)}catch(f){t.error(typeof f=="string"?f:"Something went wrong")}finally{d.value=!1}}return(f,g)=>(E(),P(ne,null,[O(k(ke),{onClick:g[0]||(g[0]=w=>a.value=!a.value)},{icon:N(()=>[O(k(Ie),null,{default:N(()=>[O(k(ze))]),_:1})]),default:N(()=>[g[2]||(g[2]=V(" Download Image "))]),_:1}),O(k(Ut),{show:a.value,"onUpdate:show":g[1]||(g[1]=w=>a.value=w),height:320,placement:"bottom"},{default:N(()=>[O(k(Gt),{title:"Download paper wallet",closable:""},{default:N(()=>[O(k(sr),{loading:d.value,onSubmit:h},null,8,["loading"]),k(c)?(E(),P("p",xr,g[3]||(g[3]=[V(" NB: "),U("strong",null,"IOS",-1),V(" and "),U("strong",null,"Safari",-1),V(" may not render images as expected the first time. If you encounter with current problem, just try downloading the image a second time. ")]))):K("",!0)]),_:1})]),_:1},8,["show"]),(E(),X(xt,{to:"body"},[d.value?(E(),P("div",Sr,[U("div",$r,[O(k(ir),{items:f.items,view:u.value,onLoad:m,ref_key:"canvasEl",ref:n},null,8,["items","view"])])])):K("",!0)]))],64))}});export{Gt as N,ir as P,Ir as R,kr as _,Ut as a,Cr as u};
