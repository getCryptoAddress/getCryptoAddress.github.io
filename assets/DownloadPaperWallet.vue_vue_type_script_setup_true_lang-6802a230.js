import{j as P,r as w,Q as ge,bG as te,m as E,u as be,l as Ke,au as qe,a9 as we,aa as ye,aT as Je,aj as V,bk as Ze,bl as et,bj as tt,an as Z,ao as ie,o as $,bp as nt,ag as _e,s as ot,bo as xe,i as g,bH as K,e as M,g as j,f as A,a_ as rt,ab as at,k as $e,T as se,R as le,n as it,a$ as st,bI as lt,al as de,$ as F,b0 as dt,ak as ct,t as ut,y as T,z as B,A as N,bB as ft,b1 as H,C as U,ai as Se,_ as ne,bJ as vt,ar as ee,ay as ht,az as Te,ax as Q,D as W,F as O,H as k,am as Ee,G,ap as Ie,as as mt,bK as pt,aV as gt,B as bt,b5 as wt}from"./index-2af5e715.js";import{f as yt,h as _t,i as xt,l as Y,g as oe,a as ce,u as $t,m as St,d as Tt}from"./index-98adfb62.js";import{_ as Et}from"./DonationList-339c8a29.js";const It=P({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(e){const t=w(!!e.show),n=w(null),i=ge(te);let d=0,f="",u=null;const h=w(!1),v=w(!1),m=E(()=>e.placement==="top"||e.placement==="bottom"),{mergedClsPrefixRef:c,mergedRtlRef:b}=be(e),y=Ke("Drawer",b,c),_=r=>{v.value=!0,d=m.value?r.clientY:r.clientX,f=document.body.style.cursor,document.body.style.cursor=m.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",S),document.body.addEventListener("mouseleave",s),document.body.addEventListener("mouseup",I)},C=()=>{u!==null&&(window.clearTimeout(u),u=null),v.value?h.value=!0:u=window.setTimeout(()=>{h.value=!0},300)},D=()=>{u!==null&&(window.clearTimeout(u),u=null),h.value=!1},{doUpdateHeight:L,doUpdateWidth:x}=i,S=r=>{var a,p;if(v.value)if(m.value){let z=((a=n.value)===null||a===void 0?void 0:a.offsetHeight)||0;const R=d-r.clientY;z+=e.placement==="bottom"?R:-R,L(z),d=r.clientY}else{let z=((p=n.value)===null||p===void 0?void 0:p.offsetWidth)||0;const R=d-r.clientX;z+=e.placement==="right"?R:-R,x(z),d=r.clientX}},I=()=>{v.value&&(d=0,v.value=!1,document.body.style.cursor=f,document.body.removeEventListener("mousemove",S),document.body.removeEventListener("mouseup",I),document.body.removeEventListener("mouseleave",s))},s=I;qe(()=>{e.show&&(t.value=!0)}),we(()=>e.show,r=>{r||I()}),ye(()=>{I()});const l=E(()=>{const{show:r}=e,a=[[ie,r]];return e.showMask||a.push([Je,e.onClickoutside,void 0,{capture:!0}]),a});function o(){var r;t.value=!1,(r=e.onAfterLeave)===null||r===void 0||r.call(e)}return yt(E(()=>e.blockScroll&&t.value)),V(Ze,n),V(et,null),V(tt,null),{bodyRef:n,rtlEnabled:y,mergedClsPrefix:i.mergedClsPrefixRef,isMounted:i.isMountedRef,mergedTheme:i.mergedThemeRef,displayed:t,transitionName:E(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[e.placement]),handleAfterLeave:o,bodyDirectives:l,handleMousedownResizeTrigger:_,handleMouseenterResizeTrigger:C,handleMouseleaveResizeTrigger:D,isDragging:v,isHoverOnResizeTrigger:h}},render(){const{$slots:e,mergedClsPrefix:t}=this;return this.displayDirective==="show"||this.displayed||this.show?Z($("div",{role:"none"},$(nt,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>$(_e,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>Z($("div",ot(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${t}-drawer`,this.rtlEnabled&&`${t}-drawer--rtl`,`${t}-drawer--${this.placement}-placement`,this.isDragging&&`${t}-drawer--unselectable`,this.nativeScrollbar&&`${t}-drawer--native-scrollbar`]}),[this.resizable?$("div",{class:[`${t}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${t}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?$("div",{class:`${t}-drawer-content-wrapper`,style:this.contentStyle,role:"none"},e):$(xe,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:`${t}-drawer-content-wrapper`,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),e)]),this.bodyDirectives)})})),[[ie,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:kt,cubicBezierEaseOut:zt}=K;function Ct({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-right"}={}){return[g(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${kt}`}),g(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${zt}`}),g(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),g(`&.${n}-transition-enter-from`,{transform:"translateX(100%)"}),g(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),g(`&.${n}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:Mt,cubicBezierEaseOut:Ot}=K;function Rt({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-left"}={}){return[g(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${Mt}`}),g(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Ot}`}),g(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),g(`&.${n}-transition-enter-from`,{transform:"translateX(-100%)"}),g(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),g(`&.${n}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:Bt,cubicBezierEaseOut:Pt}=K;function Dt({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-top"}={}){return[g(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${Bt}`}),g(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Pt}`}),g(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),g(`&.${n}-transition-enter-from`,{transform:"translateY(-100%)"}),g(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),g(`&.${n}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:Lt,cubicBezierEaseOut:jt}=K;function Wt({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-bottom"}={}){return[g(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${Lt}`}),g(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${jt}`}),g(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),g(`&.${n}-transition-enter-from`,{transform:"translateY(100%)"}),g(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),g(`&.${n}-transition-leave-to`,{transform:"translateY(100%)"})]}const Ft=g([M("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[Ct(),Rt(),Dt(),Wt(),j("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),j("native-scrollbar",[M("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),A("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[j("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),M("drawer-content-wrapper",`
 box-sizing: border-box;
 `),M("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[j("native-scrollbar",[M("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),M("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),M("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),M("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[A("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),M("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),j("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 `,[A("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),j("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 `,[A("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),j("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 `,[A("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),j("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 `,[A("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),g("body",[g(">",[M("drawer-container",{position:"fixed"})])]),M("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[g("> *",{pointerEvents:"all"})]),M("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[j("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),rt({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),Nt=Object.assign(Object.assign({},$e.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),At=P({name:"Drawer",inheritAttrs:!1,props:Nt,setup(e){const{mergedClsPrefixRef:t,namespaceRef:n,inlineThemeDisabled:i}=be(e),d=at(),f=$e("Drawer","-drawer",Ft,lt,e,t),u=w(e.defaultWidth),h=w(e.defaultHeight),v=se(le(e,"width"),u),m=se(le(e,"height"),h),c=E(()=>{const{placement:l}=e;return l==="top"||l==="bottom"?"":de(v.value)}),b=E(()=>{const{placement:l}=e;return l==="left"||l==="right"?"":de(m.value)}),y=l=>{const{onUpdateWidth:o,"onUpdate:width":r}=e;o&&F(o,l),r&&F(r,l),u.value=l},_=l=>{const{onUpdateHeight:o,"onUpdate:width":r}=e;o&&F(o,l),r&&F(r,l),h.value=l},C=E(()=>[{width:c.value,height:b.value},e.drawerStyle||""]);function D(l){const{onMaskClick:o,maskClosable:r}=e;r&&S(!1),o&&o(l)}const L=_t();function x(l){var o;(o=e.onEsc)===null||o===void 0||o.call(e),e.show&&e.closeOnEsc&&xt(l)&&!L.value&&S(!1)}function S(l){const{onHide:o,onUpdateShow:r,"onUpdate:show":a}=e;r&&F(r,l),a&&F(a,l),o&&!l&&F(o,l)}V(te,{isMountedRef:d,mergedThemeRef:f,mergedClsPrefixRef:t,doUpdateShow:S,doUpdateHeight:_,doUpdateWidth:y});const I=E(()=>{const{common:{cubicBezierEaseInOut:l,cubicBezierEaseIn:o,cubicBezierEaseOut:r},self:{color:a,textColor:p,boxShadow:z,lineHeight:R,headerPadding:Re,footerPadding:Be,bodyPadding:Pe,titleFontSize:De,titleTextColor:Le,titleFontWeight:je,headerBorderBottom:We,footerBorderTop:Fe,closeIconColor:Ne,closeIconColorHover:Ae,closeIconColorPressed:Ue,closeColorHover:He,closeColorPressed:Xe,closeIconSize:Ge,closeSize:Ye,closeBorderRadius:Ve,resizableTriggerColorHover:Qe}}=f.value;return{"--n-line-height":R,"--n-color":a,"--n-text-color":p,"--n-box-shadow":z,"--n-bezier":l,"--n-bezier-out":r,"--n-bezier-in":o,"--n-header-padding":Re,"--n-body-padding":Pe,"--n-footer-padding":Be,"--n-title-text-color":Le,"--n-title-font-size":De,"--n-title-font-weight":je,"--n-header-border-bottom":We,"--n-footer-border-top":Fe,"--n-close-icon-color":Ne,"--n-close-icon-color-hover":Ae,"--n-close-icon-color-pressed":Ue,"--n-close-size":Ye,"--n-close-color-hover":He,"--n-close-color-pressed":Xe,"--n-close-icon-size":Ge,"--n-close-border-radius":Ve,"--n-resize-trigger-color-hover":Qe}}),s=i?it("drawer",void 0,I,e):void 0;return{mergedClsPrefix:t,namespace:n,mergedBodyStyle:C,handleMaskClick:D,handleEsc:x,mergedTheme:f,cssVars:i?void 0:I,themeClass:s?.themeClass,onRender:s?.onRender,isMounted:d}},render(){const{mergedClsPrefix:e}=this;return $(st,{to:this.to,show:this.show},{default:()=>{var t;return(t=this.onRender)===null||t===void 0||t.call(this),Z($("div",{class:[`${e}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?$(_e,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?$("div",{"aria-hidden":!0,class:[`${e}-drawer-mask`,this.showMask==="transparent"&&`${e}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,$(It,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleMaskClick}),this.$slots)),[[dt,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Ut={title:{type:String},headerStyle:[Object,String],footerStyle:[Object,String],bodyStyle:[Object,String],bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Ht=P({name:"DrawerContent",props:Ut,setup(){const e=ge(te,null);e||ct("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:t}=e;function n(){t(!1)}return{handleCloseClick:n,mergedTheme:e.mergedThemeRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{title:e,mergedClsPrefix:t,nativeScrollbar:n,mergedTheme:i,bodyStyle:d,bodyContentStyle:f,headerStyle:u,footerStyle:h,scrollbarProps:v,closable:m,$slots:c}=this;return $("div",{role:"none",class:[`${t}-drawer-content`,n&&`${t}-drawer-content--native-scrollbar`]},c.header||e||m?$("div",{class:`${t}-drawer-header`,style:u,role:"none"},$("div",{class:`${t}-drawer-header__main`,role:"heading","aria-level":"1"},c.header!==void 0?c.header():e),m&&$(ut,{onClick:this.handleCloseClick,clsPrefix:t,class:`${t}-drawer-header__close`,absolute:!0})):null,n?$("div",{class:`${t}-drawer-body`,style:d,role:"none"},$("div",{class:`${t}-drawer-body-content-wrapper`,style:f,role:"none"},c)):$(xe,Object.assign({themeOverrides:i.peerOverrides.Scrollbar,theme:i.peers.Scrollbar},v,{class:`${t}-drawer-body`,contentClass:`${t}-drawer-body-content-wrapper`,contentStyle:f}),c),c.footer?$("div",{class:`${t}-drawer-footer`,style:h,role:"none"},c.footer()):null)}}),Xt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},Gt=N("g",{fill:"none"},[N("path",{d:"M3.5 13h9a.5.5 0 0 1 .09.992L12.5 14h-9a.5.5 0 0 1-.09-.992L3.5 13h9h-9zM7.91 1.008L8 1a.5.5 0 0 1 .492.41l.008.09v8.792l2.682-2.681a.5.5 0 0 1 .638-.058l.07.058a.5.5 0 0 1 .057.638l-.058.069l-3.535 3.536a.5.5 0 0 1-.638.057l-.07-.057l-3.535-3.536a.5.5 0 0 1 .638-.765l.069.058L7.5 10.292V1.5a.5.5 0 0 1 .41-.492L8 1l-.09.008z",fill:"currentColor"})],-1),Yt=[Gt],ke=P({name:"ArrowDownload16Regular",render:function(t,n){return T(),B("svg",Xt,Yt)}});function Vt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var re=Vt,Qt=typeof Y=="object"&&Y&&Y.Object===Object&&Y,Kt=Qt,qt=Kt,Jt=typeof self=="object"&&self&&self.Object===Object&&self,Zt=qt||Jt||Function("return this")(),ze=Zt,en=ze,tn=function(){return en.Date.now()},nn=tn,on=/\s/;function rn(e){for(var t=e.length;t--&&on.test(e.charAt(t)););return t}var an=rn,sn=an,ln=/^\s+/;function dn(e){return e&&e.slice(0,sn(e)+1).replace(ln,"")}var cn=dn,un=ze,fn=un.Symbol,Ce=fn,ue=Ce,Me=Object.prototype,vn=Me.hasOwnProperty,hn=Me.toString,X=ue?ue.toStringTag:void 0;function mn(e){var t=vn.call(e,X),n=e[X];try{e[X]=void 0;var i=!0}catch{}var d=hn.call(e);return i&&(t?e[X]=n:delete e[X]),d}var pn=mn,gn=Object.prototype,bn=gn.toString;function wn(e){return bn.call(e)}var yn=wn,fe=Ce,_n=pn,xn=yn,$n="[object Null]",Sn="[object Undefined]",ve=fe?fe.toStringTag:void 0;function Tn(e){return e==null?e===void 0?Sn:$n:ve&&ve in Object(e)?_n(e):xn(e)}var En=Tn;function In(e){return e!=null&&typeof e=="object"}var kn=In,zn=En,Cn=kn,Mn="[object Symbol]";function On(e){return typeof e=="symbol"||Cn(e)&&zn(e)==Mn}var Rn=On,Bn=cn,he=re,Pn=Rn,me=0/0,Dn=/^[-+]0x[0-9a-f]+$/i,Ln=/^0b[01]+$/i,jn=/^0o[0-7]+$/i,Wn=parseInt;function Fn(e){if(typeof e=="number")return e;if(Pn(e))return me;if(he(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=he(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Bn(e);var n=Ln.test(e);return n||jn.test(e)?Wn(e.slice(2),n?2:8):Dn.test(e)?me:+e}var Nn=Fn,An=re,J=nn,pe=Nn,Un="Expected a function",Hn=Math.max,Xn=Math.min;function Gn(e,t,n){var i,d,f,u,h,v,m=0,c=!1,b=!1,y=!0;if(typeof e!="function")throw new TypeError(Un);t=pe(t)||0,An(n)&&(c=!!n.leading,b="maxWait"in n,f=b?Hn(pe(n.maxWait)||0,t):f,y="trailing"in n?!!n.trailing:y);function _(o){var r=i,a=d;return i=d=void 0,m=o,u=e.apply(a,r),u}function C(o){return m=o,h=setTimeout(x,t),c?_(o):u}function D(o){var r=o-v,a=o-m,p=t-r;return b?Xn(p,f-a):p}function L(o){var r=o-v,a=o-m;return v===void 0||r>=t||r<0||b&&a>=f}function x(){var o=J();if(L(o))return S(o);h=setTimeout(x,D(o))}function S(o){return h=void 0,y&&i?_(o):(i=d=void 0,u)}function I(){h!==void 0&&clearTimeout(h),m=0,i=v=d=h=void 0}function s(){return h===void 0?u:S(J())}function l(){var o=J(),r=L(o);if(i=arguments,d=this,v=o,r){if(h===void 0)return C(v);if(b)return clearTimeout(h),h=setTimeout(x,t),_(v)}return h===void 0&&(h=setTimeout(x,t)),u}return l.cancel=I,l.flush=s,l}var Oe=Gn;const Yn=oe(Oe);function Vn(e){return new Promise(t=>{const n=new Image;n.onload=function(){t({width:n.width,height:n.height,src:e})},n.src=e})}const ko=ft("paperWallet",()=>{const e=Yn(r,200,{leading:!0,trailing:!1}),t=w([]);function n(a){e(),t.value=[...a]}function i(a){e(),t.value=t.value.map(p=>p.id===a.id?a:p)}function d(a){e(),t.value=t.value.filter(p=>p.id!==a.id)}function f(a){const p=t.value.findIndex(R=>R.id===a.id);if(p===0)return;e();const z=t.value[p-1];t.value[p-1]=a,t.value[p]=z}function u(a){const p=t.value.findIndex(R=>R.id===a.id);if(p===t.value.length-1)return;e();const z=t.value[p+1];t.value[p+1]=a,t.value[p]=z}async function h(a="Text"){const p={id:`${Date.now()}`,font:"Courier New",type:"TEXT",text:a,align:"center",alignLast:"auto",color:"#333333FF",size:16,weight:400,position:{x:10,y:10,width:300,rotate:0,transformOrigin:"center center"}};e(),t.value.push(p)}async function v(a=""){const{width:p}=await Vn(a),z={id:`${Date.now()}`,type:"IMAGE",src:a,position:{x:0,y:0,width:p,rotate:0,transformOrigin:"center center"}};e(),t.value.push(z)}async function m(a="QrCode"){const p={id:`${Date.now()}`,type:"QR_CODE",text:a,color:"#000000FF",background:"#00000000",position:{x:0,y:0,width:100,rotate:0,transformOrigin:"center center"}};e(),t.value.push(p)}const c=E(()=>[...t.value].reverse());function b(a){n([...a].reverse())}const y=w("EDIT");function _(a){y.value=a}const C=w(null),D=E(()=>t.value.find(a=>a.id===C.value)||null);function L(a){if(!a){C.value=null;return}C.value=a.id}const x=w([]),S=w([]);function I(){if(!x.value.length)return;const a=x.value.splice(-1)[0];a&&(S.value.push(t.value),t.value=a)}function s(){if(!S.value.length)return;const a=S.value.splice(-1)[0];a&&(x.value.push(t.value),t.value=a)}function l(){for(;x.value.length>=15;)x.value.shift();x.value.push([...t.value])}function o(){S.value=[]}function r(){l(),o()}return{items:t,canvasMode:y,selectedItemId:C,undoStack:x,redoStack:S,selectedItem:D,revertedItems:c,setItems:n,setRevertedItems:b,updateItem:i,addItemText:h,addItemImage:v,addItemQRCode:m,removeItem:d,moveItemUp:u,moveItemDown:f,setCanvasMode:_,setSelectItem:L,undo:I,redo:s}}),Qn=["src"],Kn=P({__name:"PaperWalletCanvasImage",props:{item:{}},emits:["load"],setup(e,{emit:t}){const n=e,i=E(()=>({cursor:"move",position:"absolute",left:n.item.position.x+"px",top:n.item.position.y+"px",width:n.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${n.item.position.rotate}deg)`,transformOrigin:n.item.position.transformOrigin}));return(d,f)=>(T(),B("img",{src:d.item.src,alt:"",draggable:"false",style:H(i.value),onLoad:f[0]||(f[0]=u=>t("load",d.item))},null,44,Qn))}}),qn=P({__name:"PaperWalletCanvasQrCode",props:{item:{}},setup(e){const t=e,n=E(()=>({cursor:"move",position:"absolute",left:t.item.position.x+"px",top:t.item.position.y+"px",width:t.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${t.item.position.rotate}deg)`,transformOrigin:t.item.position.transformOrigin,lineHeight:0}));return(i,d)=>(T(),U(Et,{text:i.item.text,width:i.item.position.width,style:H(n.value),background:i.item.background,color:i.item.color},null,8,["text","width","style","background","color"]))}}),Jn=["innerHTML"],Zn=["innerHTML"],eo="plaintext-only",to=P({__name:"PaperWalletCanvasText",props:{item:{}},emits:["updateText"],setup(e,{emit:t}){const n=e,i=E(()=>({cursor:"move",position:"absolute",fontFamily:n.item.font,fontSize:n.item.size+"px",fontWeight:n.item.weight,textAlign:n.item.align,textAlignLast:n.item.alignLast,color:n.item.color,left:n.item.position.x+"px",top:n.item.position.y+"px",width:n.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${n.item.position.rotate}deg)`,transformOrigin:n.item.position.transformOrigin,lineHeight:"normal"})),d=w(),f=w(!1),u=w(""),h=E(()=>n.item.text.replace(/\n/g,"<br>"));function v(b){const y=b.target?.textContent||"";t("updateText",y)}function m(){f.value=!0,u.value=n.item.text,Se(()=>{const b=d.value;if(!b)return;b.focus();const y=document.createRange();y.selectNodeContents(b),y.collapse(!1);const _=window.getSelection();_&&(_.removeAllRanges(),_.addRange(y))})}function c(){f.value=!1}return(b,y)=>f.value?(T(),B("div",{key:1,contenteditable:eo,onBlur:c,onInput:v,style:H(i.value),ref_key:"editRef",ref:d,innerHTML:u.value,class:"paper-wallet-canvas-text__editable"},null,44,Zn)):(T(),B("div",{key:0,onDblclick:m,style:H(i.value),innerHTML:h.value},null,44,Jn))}});const no=ne(to,[["__scopeId","data-v-9e6e5f04"]]),oo=P({__name:"PaperWalletCanvas",props:{items:{},view:{},isEditMode:{type:Boolean},selectedItemId:{}},emits:["updateItem","select","load"],setup(e,{expose:t,emit:n}){const i=e,d=w(null);let f=!1,u=null,h=0,v=0;function m(s,l){i.isEditMode&&(f=!0,u=s,n("select",s),h=s.position.x-l.clientX,v=s.position.y-l.clientY,addEventListener("mouseup",c))}function c(){f=!1,u=null,removeEventListener("mouseup",c)}function b(s,l){!i.isEditMode||l.touches.length>1||(f=!0,u=s,n("select",s),h=s.position.x-l.touches[0].clientX,v=s.position.y-l.touches[0].clientY,addEventListener("touchend",_),addEventListener("touchcancel",_))}function y(s){if(!f||!u||s.touches.length>1)return;s.preventDefault();const l=D(h+s.touches[0].clientX,v+s.touches[0].clientY,u);n("updateItem",l)}function _(){f=!1,u=null,removeEventListener("touchend",_),removeEventListener("touchcancel",_)}vt(()=>{removeEventListener("mouseup",c),removeEventListener("touchend",_),removeEventListener("touchcancel",_)});function C(s){if(!f||!u)return;const l=D(h+s.clientX,v+s.clientY,u);n("updateItem",l)}function D(s,l,o){return{...o,position:{...o.position,x:s,y:l}}}function L(s,l){const o={...s,text:l};n("updateItem",o)}const x=w([]),S=E(()=>new Set(i.items.filter(s=>s.type==="IMAGE").map(s=>s.id)));function I(s){x.value=[...x.value,s.id].filter(l=>S.value.has(l))}return we(()=>d.value&&x.value.length===S.value.size,s=>{s&&n("load")},{immediate:!0}),t({targetElement:d}),(s,l)=>(T(),B("div",{class:Te(["paper-wallet-canvas",{"paper-wallet-canvas--edit-mode":s.view==="EDIT","paper-wallet-canvas--print-mode":s.view==="PRINT"}]),onMousemove:C,onTouchmove:y,ref_key:"targetElement",ref:d},[(T(!0),B(ee,null,ht(s.items,o=>(T(),B(ee,{key:o.id},[o.type==="TEXT"?(T(),U(no,{key:0,item:o,onMousedown:r=>m(o,r),onTouchstart:r=>b(o,r),onUpdateText:r=>L(o,r),"data-selected-item":s.selectedItemId===o.id},null,8,["item","onMousedown","onTouchstart","onUpdateText","data-selected-item"])):Q("",!0),o.type==="IMAGE"?(T(),U(Kn,{key:1,item:o,"data-selected-item":s.selectedItemId===o.id,onMousedown:r=>m(o,r),onTouchstart:r=>b(o,r),onLoad:I},null,8,["item","data-selected-item","onMousedown","onTouchstart"])):o.type==="QR_CODE"?(T(),U(qn,{key:2,item:o,onMousedown:r=>m(o,r),onTouchstart:r=>b(o,r),"data-selected-item":s.selectedItemId===o.id},null,8,["item","onMousedown","onTouchstart","data-selected-item"])):Q("",!0)],64))),128))],34))}});const ro=ne(oo,[["__scopeId","data-v-757fe470"]]);const ao=P({__name:"PaperWalletDownloadForm",props:{loading:{type:Boolean}},emits:["submit"],setup(e,{emit:t}){const n=w("PNG"),i=w("PRINT"),d=[{label:"Download as PNG",value:"PNG"},{label:"Download as JPEG",value:"JPEG"}],f=[{label:"Print Mode",value:"PRINT"},{label:"Preview Mode",value:"VIEW"},{label:"Edit Mode",value:"EDIT"}];async function u(){t("submit",{typeOfDownload:n.value,canvasMode:i.value})}return(h,v)=>(T(),U(k(mt),null,{default:W(()=>[O(k(ce),{trigger:"hover",options:d,value:n.value,"onUpdate:value":v[0]||(v[0]=m=>n.value=m),"consistent-menu-width":!1,style:{minWidth:"170px"}},null,8,["value"]),O(k(ce),{trigger:"hover",options:f,value:i.value,"onUpdate:value":v[1]||(v[1]=m=>i.value=m),"consistent-menu-width":!1,style:{minWidth:"170px"}},null,8,["value"]),O(k(Ie),{loading:h.loading,onClick:u},{icon:W(()=>[O(k(Ee),null,{default:W(()=>[O(k(ke))]),_:1})]),default:W(()=>[G(" Download ")]),_:1},8,["loading"])]),_:1}))}});var io=Oe,so=re,lo="Expected a function";function co(e,t,n){var i=!0,d=!0;if(typeof e!="function")throw new TypeError(lo);return so(n)&&(i="leading"in n?!!n.leading:i,d="trailing"in n?!!n.trailing:d),io(e,t,{leading:i,maxWait:t,trailing:d})}var uo=co;const fo=oe(uo),vo={class:"resizable-paper-wallet-wrapper"},ho=P({__name:"ResizablePaperWalletWrapper",props:{bordered:{type:Boolean}},setup(e){const t=e,n=w(),i=pt(),d=w(1),f=w("auto"),u=E(()=>({"resizable-paper-wallet-wrapper__container":!0,"resizable-paper-wallet-wrapper__bordered":t.bordered,"resizable-paper-wallet-wrapper__bordered--dark":t.bordered&&i.value}));function h(m){return Math.max(0,...[...m.children].map(c=>c instanceof HTMLDivElement?c.offsetWidth:0))}const v=fo(()=>{if(!n.value){console.error("Container not found");return}const m=h(n.value);if(!m)return;const c=n.value.offsetWidth/m;d.value=c<1?c:1,f.value=`${n.value.offsetHeight*d.value}px`},100);return gt(()=>{window.addEventListener("resize",v),v()}),ye(()=>{window.removeEventListener("resize",v)}),(m,c)=>(T(),B("div",vo,[N("div",{ref:"container",class:Te(u.value),style:H({height:f.value})},[N("div",{class:"resizable-paper-wallet-wrapper__area",ref_key:"area",ref:n,style:H({transform:`scale(${d.value})`})},[bt(m.$slots,"default",{},void 0,!0)],4)],6)]))}});const zo=ne(ho,[["__scopeId","data-v-c8e123f2"]]);var q={exports:{}};q.exports=ae;q.exports.isMobile=ae;q.exports.default=ae;const mo=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,po=/CrOS/,go=/android|ipad|playbook|silk/i;function ae(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&typeof t.headers["user-agent"]=="string"&&(t=t.headers["user-agent"]),typeof t!="string")return!1;let n=mo.test(t)&&!po.test(t)||!!e.tablet&&go.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&t.indexOf("Macintosh")!==-1&&t.indexOf("Safari")!==-1&&(n=!0),n}var bo=q.exports;const wo=oe(bo),yo={key:0},_o=N("strong",null,"IOS",-1),xo=N("strong",null,"Safari",-1),$o={key:0,style:{position:"fixed",overflow:"hidden",display:"grid",width:"0",height:"0",top:"0",left:"0"}},So={style:{overflow:"scroll"}},Co=P({__name:"DownloadPaperWallet",props:{items:{}},setup(e){const t=$t(),n=w(),i=w(!1),d=w(!1),f=w("PNG"),u=w("PRINT"),h=St();async function v(c){u.value=c.canvasMode,f.value=c.typeOfDownload,d.value=!0}async function m(){await Se(),await new Promise(c=>setTimeout(c,wo()?500:1));try{let c=n.value?.targetElement;if(!c){d.value=!1,t.error("Problem with canvas element");return}await Tt(c,f.value,"paper-wallet",!0)}catch(c){t.error(typeof c=="string"?c:"Something went wrong")}finally{d.value=!1}}return(c,b)=>(T(),B(ee,null,[O(k(Ie),{onClick:b[0]||(b[0]=y=>i.value=!i.value)},{icon:W(()=>[O(k(Ee),null,{default:W(()=>[O(k(ke))]),_:1})]),default:W(()=>[G(" Download Image ")]),_:1}),O(k(At),{show:i.value,"onUpdate:show":b[1]||(b[1]=y=>i.value=y),height:320,placement:"bottom"},{default:W(()=>[O(k(Ht),{title:"Download paper wallet",closable:""},{default:W(()=>[O(k(ao),{loading:d.value,onSubmit:v},null,8,["loading"]),k(h)?(T(),B("p",yo,[G(" NB: "),_o,G(" and "),xo,G(" may not render images as expected the first time. If you encounter with current problem, just try downloading the image a second time. ")])):Q("",!0)]),_:1})]),_:1},8,["show"]),(T(),U(wt,{to:"body"},[d.value?(T(),B("div",$o,[N("div",So,[O(k(ro),{items:c.items,view:u.value,onLoad:m,ref_key:"canvasEl",ref:n},null,8,["items","view"])])])):Q("",!0)]))],64))}});export{Ht as N,ro as P,zo as R,Co as _,At as a,ko as u};
