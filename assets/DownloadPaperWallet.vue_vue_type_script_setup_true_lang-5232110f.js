import{d as B,g as _,C as fe,bA as J,I as E,A as ve,H as Ae,aO as Ue,a6 as me,l as He,al as Ge,a8 as G,aa as Xe,ab as Ye,a9 as Ve,ag as Q,ah as Z,p as S,aj as Qe,ak as he,af as Ke,ai as pe,s as g,bB as Y,t as z,v as D,u as N,ao as qe,ar as Je,G as ge,bC as Ze,E as ee,D as te,aE as ne,J as et,as as tt,at as nt,O as F,aD as ot,a1 as rt,o as I,c as L,a as oe,bt as at,bc as X,an as it,_ as be,b as W,bD as st,bE as lt,aQ as K,aS as dt,aR as q,aH as ct,aL as O,w as A,aK as j,$ as we,e as ye,aN as ut,bk as ft}from"./index-d66c2522.js";import{u as vt,a as mt,e as ht,i as H,j as pt,_ as gt,b as re,f as ae,d as bt}from"./downloadHtmlAsPng-4aa1d5ea.js";const wt=B({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(e){const t=_(!!e.show),n=_(null),a=fe(J);let l=0,f="",u=null;const m=_(!1),h=_(!1),c=E(()=>e.placement==="top"||e.placement==="bottom"),{mergedClsPrefixRef:b,mergedRtlRef:w}=ve(e),x=Ae("Drawer",w,b),T=d=>{h.value=!0,l=c.value?d.clientY:d.clientX,f=document.body.style.cursor,document.body.style.cursor=c.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",r),document.body.addEventListener("mouseleave",v),document.body.addEventListener("mouseup",y)},k=()=>{u!==null&&(window.clearTimeout(u),u=null),h.value?m.value=!0:u=window.setTimeout(()=>{m.value=!0},300)},P=()=>{u!==null&&(window.clearTimeout(u),u=null),m.value=!1},{doUpdateHeight:M,doUpdateWidth:$}=a,r=d=>{var o,p;if(h.value)if(c.value){let C=((o=n.value)===null||o===void 0?void 0:o.offsetHeight)||0;const R=l-d.clientY;C+=e.placement==="bottom"?R:-R,M(C),l=d.clientY}else{let C=((p=n.value)===null||p===void 0?void 0:p.offsetWidth)||0;const R=l-d.clientX;C+=e.placement==="right"?R:-R,$(C),l=d.clientX}},y=()=>{h.value&&(l=0,h.value=!1,document.body.style.cursor=f,document.body.removeEventListener("mousemove",r),document.body.removeEventListener("mouseup",y),document.body.removeEventListener("mouseleave",v))},v=y;Ue(()=>{e.show&&(t.value=!0)}),me(()=>e.show,d=>{d||y()}),He(()=>{y()});const s=E(()=>{const{show:d}=e,o=[[Z,d]];return e.showMask||o.push([Ge,e.onClickoutside,void 0,{capture:!0}]),o});function i(){var d;t.value=!1,(d=e.onAfterLeave)===null||d===void 0||d.call(e)}return vt(E(()=>e.blockScroll&&t.value)),G(Xe,n),G(Ye,null),G(Ve,null),{bodyRef:n,rtlEnabled:x,mergedClsPrefix:a.mergedClsPrefixRef,isMounted:a.isMountedRef,mergedTheme:a.mergedThemeRef,displayed:t,transitionName:E(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[e.placement]),handleAfterLeave:i,bodyDirectives:s,handleMousedownResizeTrigger:T,handleMouseenterResizeTrigger:k,handleMouseleaveResizeTrigger:P,isDragging:h,isHoverOnResizeTrigger:m}},render(){const{$slots:e,mergedClsPrefix:t}=this;return this.displayDirective==="show"||this.displayed||this.show?Q(S("div",{role:"none"},S(Qe,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>S(he,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>Q(S("div",Ke(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${t}-drawer`,this.rtlEnabled&&`${t}-drawer--rtl`,`${t}-drawer--${this.placement}-placement`,this.isDragging&&`${t}-drawer--unselectable`,this.nativeScrollbar&&`${t}-drawer--native-scrollbar`]}),[this.resizable?S("div",{class:[`${t}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${t}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?S("div",{class:`${t}-drawer-content-wrapper`,style:this.contentStyle,role:"none"},e):S(pe,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:`${t}-drawer-content-wrapper`,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),e)]),this.bodyDirectives)})})),[[Z,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:yt,cubicBezierEaseOut:_t}=Y;function St({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-right"}={}){return[g(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${yt}`}),g(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${_t}`}),g(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),g(`&.${n}-transition-enter-from`,{transform:"translateX(100%)"}),g(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),g(`&.${n}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:xt,cubicBezierEaseOut:$t}=Y;function Tt({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-left"}={}){return[g(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${xt}`}),g(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${$t}`}),g(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),g(`&.${n}-transition-enter-from`,{transform:"translateX(-100%)"}),g(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),g(`&.${n}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:It,cubicBezierEaseOut:Et}=Y;function Ct({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-top"}={}){return[g(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${It}`}),g(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Et}`}),g(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),g(`&.${n}-transition-enter-from`,{transform:"translateY(-100%)"}),g(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),g(`&.${n}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:kt,cubicBezierEaseOut:zt}=Y;function Ot({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-bottom"}={}){return[g(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${kt}`}),g(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${zt}`}),g(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),g(`&.${n}-transition-enter-from`,{transform:"translateY(100%)"}),g(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),g(`&.${n}-transition-leave-to`,{transform:"translateY(100%)"})]}const Pt=g([z("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[St(),Tt(),Ct(),Ot(),D("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),D("native-scrollbar",[z("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),N("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[D("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),z("drawer-content-wrapper",`
 box-sizing: border-box;
 `),z("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[D("native-scrollbar",[z("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),z("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),z("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),z("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[N("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),z("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),D("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 `,[N("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),D("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 `,[N("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),D("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 `,[N("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),D("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 `,[N("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),g("body",[g(">",[z("drawer-container",{position:"fixed"})])]),z("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[g("> *",{pointerEvents:"all"})]),z("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[D("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),qe({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),Mt=Object.assign(Object.assign({},ge.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Rt=B({name:"Drawer",inheritAttrs:!1,props:Mt,setup(e){const{mergedClsPrefixRef:t,namespaceRef:n,inlineThemeDisabled:a}=ve(e),l=Je(),f=ge("Drawer","-drawer",Pt,Ze,e,t),u=_(e.defaultWidth),m=_(e.defaultHeight),h=ee(te(e,"width"),u),c=ee(te(e,"height"),m),b=E(()=>{const{placement:s}=e;return s==="top"||s==="bottom"?"":ne(h.value)}),w=E(()=>{const{placement:s}=e;return s==="left"||s==="right"?"":ne(c.value)}),x=s=>{const{onUpdateWidth:i,"onUpdate:width":d}=e;i&&F(i,s),d&&F(d,s),u.value=s},T=s=>{const{onUpdateHeight:i,"onUpdate:width":d}=e;i&&F(i,s),d&&F(d,s),m.value=s},k=E(()=>[{width:b.value,height:w.value},e.drawerStyle||""]);function P(s){const{onMaskClick:i,maskClosable:d}=e;d&&r(!1),i&&i(s)}const M=mt();function $(s){var i;(i=e.onEsc)===null||i===void 0||i.call(e),e.show&&e.closeOnEsc&&ht(s)&&!M.value&&r(!1)}function r(s){const{onHide:i,onUpdateShow:d,"onUpdate:show":o}=e;d&&F(d,s),o&&F(o,s),i&&!s&&F(i,s)}G(J,{isMountedRef:l,mergedThemeRef:f,mergedClsPrefixRef:t,doUpdateShow:r,doUpdateHeight:T,doUpdateWidth:x});const y=E(()=>{const{common:{cubicBezierEaseInOut:s,cubicBezierEaseIn:i,cubicBezierEaseOut:d},self:{color:o,textColor:p,boxShadow:C,lineHeight:R,headerPadding:Te,footerPadding:Ie,bodyPadding:Ee,titleFontSize:Ce,titleTextColor:ke,titleFontWeight:ze,headerBorderBottom:Oe,footerBorderTop:Pe,closeIconColor:Me,closeIconColorHover:Re,closeIconColorPressed:Be,closeColorHover:De,closeColorPressed:je,closeIconSize:Le,closeSize:Fe,closeBorderRadius:We,resizableTriggerColorHover:Ne}}=f.value;return{"--n-line-height":R,"--n-color":o,"--n-text-color":p,"--n-box-shadow":C,"--n-bezier":s,"--n-bezier-out":d,"--n-bezier-in":i,"--n-header-padding":Te,"--n-body-padding":Ee,"--n-footer-padding":Ie,"--n-title-text-color":ke,"--n-title-font-size":Ce,"--n-title-font-weight":ze,"--n-header-border-bottom":Oe,"--n-footer-border-top":Pe,"--n-close-icon-color":Me,"--n-close-icon-color-hover":Re,"--n-close-icon-color-pressed":Be,"--n-close-size":Fe,"--n-close-color-hover":De,"--n-close-color-pressed":je,"--n-close-icon-size":Le,"--n-close-border-radius":We,"--n-resize-trigger-color-hover":Ne}}),v=a?et("drawer",void 0,y,e):void 0;return{mergedClsPrefix:t,namespace:n,mergedBodyStyle:k,handleMaskClick:P,handleEsc:$,mergedTheme:f,cssVars:a?void 0:y,themeClass:v?.themeClass,onRender:v?.onRender,isMounted:l}},render(){const{mergedClsPrefix:e}=this;return S(nt,{to:this.to,show:this.show},{default:()=>{var t;return(t=this.onRender)===null||t===void 0||t.call(this),Q(S("div",{class:[`${e}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?S(he,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?S("div",{"aria-hidden":!0,class:[`${e}-drawer-mask`,this.showMask==="transparent"&&`${e}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,S(wt,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleMaskClick}),this.$slots)),[[tt,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Bt={title:{type:String},headerStyle:[Object,String],footerStyle:[Object,String],bodyStyle:[Object,String],bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Dt=B({name:"DrawerContent",props:Bt,setup(){const e=fe(J,null);e||ot("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:t}=e;function n(){t(!1)}return{handleCloseClick:n,mergedTheme:e.mergedThemeRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{title:e,mergedClsPrefix:t,nativeScrollbar:n,mergedTheme:a,bodyStyle:l,bodyContentStyle:f,headerStyle:u,footerStyle:m,scrollbarProps:h,closable:c,$slots:b}=this;return S("div",{role:"none",class:[`${t}-drawer-content`,n&&`${t}-drawer-content--native-scrollbar`]},b.header||e||c?S("div",{class:`${t}-drawer-header`,style:u,role:"none"},S("div",{class:`${t}-drawer-header__main`,role:"heading","aria-level":"1"},b.header!==void 0?b.header():e),c&&S(rt,{onClick:this.handleCloseClick,clsPrefix:t,class:`${t}-drawer-header__close`,absolute:!0})):null,n?S("div",{class:`${t}-drawer-body`,style:l,role:"none"},S("div",{class:`${t}-drawer-body-content-wrapper`,style:f,role:"none"},b)):S(pe,Object.assign({themeOverrides:a.peerOverrides.Scrollbar,theme:a.peers.Scrollbar},h,{class:`${t}-drawer-body`,contentClass:`${t}-drawer-body-content-wrapper`,contentStyle:f}),b),b.footer?S("div",{class:`${t}-drawer-footer`,style:m,role:"none"},b.footer()):null)}}),jt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},Lt=oe("g",{fill:"none"},[oe("path",{d:"M3.5 13h9a.5.5 0 0 1 .09.992L12.5 14h-9a.5.5 0 0 1-.09-.992L3.5 13h9h-9zM7.91 1.008L8 1a.5.5 0 0 1 .492.41l.008.09v8.792l2.682-2.681a.5.5 0 0 1 .638-.058l.07.058a.5.5 0 0 1 .057.638l-.058.069l-3.535 3.536a.5.5 0 0 1-.638.057l-.07-.057l-3.535-3.536a.5.5 0 0 1 .638-.765l.069.058L7.5 10.292V1.5a.5.5 0 0 1 .41-.492L8 1l-.09.008z",fill:"currentColor"})],-1),Ft=[Lt],Wt=B({name:"ArrowDownload16Regular",render:function(t,n){return I(),L("svg",jt,Ft)}});function Nt(e){return new Promise(t=>{const n=new Image;n.onload=function(){t({width:n.width,height:n.height,src:e})},n.src=e})}function At(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _e=At,Ut=typeof H=="object"&&H&&H.Object===Object&&H,Ht=Ut,Gt=Ht,Xt=typeof self=="object"&&self&&self.Object===Object&&self,Yt=Gt||Xt||Function("return this")(),Se=Yt,Vt=Se,Qt=function(){return Vt.Date.now()},Kt=Qt,qt=/\s/;function Jt(e){for(var t=e.length;t--&&qt.test(e.charAt(t)););return t}var Zt=Jt,en=Zt,tn=/^\s+/;function nn(e){return e&&e.slice(0,en(e)+1).replace(tn,"")}var on=nn,rn=Se,an=rn.Symbol,xe=an,ie=xe,$e=Object.prototype,sn=$e.hasOwnProperty,ln=$e.toString,U=ie?ie.toStringTag:void 0;function dn(e){var t=sn.call(e,U),n=e[U];try{e[U]=void 0;var a=!0}catch{}var l=ln.call(e);return a&&(t?e[U]=n:delete e[U]),l}var cn=dn,un=Object.prototype,fn=un.toString;function vn(e){return fn.call(e)}var mn=vn,se=xe,hn=cn,pn=mn,gn="[object Null]",bn="[object Undefined]",le=se?se.toStringTag:void 0;function wn(e){return e==null?e===void 0?bn:gn:le&&le in Object(e)?hn(e):pn(e)}var yn=wn;function _n(e){return e!=null&&typeof e=="object"}var Sn=_n,xn=yn,$n=Sn,Tn="[object Symbol]";function In(e){return typeof e=="symbol"||$n(e)&&xn(e)==Tn}var En=In,Cn=on,de=_e,kn=En,ce=0/0,zn=/^[-+]0x[0-9a-f]+$/i,On=/^0b[01]+$/i,Pn=/^0o[0-7]+$/i,Mn=parseInt;function Rn(e){if(typeof e=="number")return e;if(kn(e))return ce;if(de(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=de(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Cn(e);var n=On.test(e);return n||Pn.test(e)?Mn(e.slice(2),n?2:8):zn.test(e)?ce:+e}var Bn=Rn,Dn=_e,V=Kt,ue=Bn,jn="Expected a function",Ln=Math.max,Fn=Math.min;function Wn(e,t,n){var a,l,f,u,m,h,c=0,b=!1,w=!1,x=!0;if(typeof e!="function")throw new TypeError(jn);t=ue(t)||0,Dn(n)&&(b=!!n.leading,w="maxWait"in n,f=w?Ln(ue(n.maxWait)||0,t):f,x="trailing"in n?!!n.trailing:x);function T(i){var d=a,o=l;return a=l=void 0,c=i,u=e.apply(o,d),u}function k(i){return c=i,m=setTimeout($,t),b?T(i):u}function P(i){var d=i-h,o=i-c,p=t-d;return w?Fn(p,f-o):p}function M(i){var d=i-h,o=i-c;return h===void 0||d>=t||d<0||w&&o>=f}function $(){var i=V();if(M(i))return r(i);m=setTimeout($,P(i))}function r(i){return m=void 0,x&&a?T(i):(a=l=void 0,u)}function y(){m!==void 0&&clearTimeout(m),c=0,a=h=l=m=void 0}function v(){return m===void 0?u:r(V())}function s(){var i=V(),d=M(i);if(a=arguments,l=this,h=i,d){if(m===void 0)return k(h);if(w)return clearTimeout(m),m=setTimeout($,t),T(h)}return m===void 0&&(m=setTimeout($,t)),u}return s.cancel=y,s.flush=v,s}var Nn=Wn;const An=pt(Nn),oo=at("paperWallet",()=>{const e=An(d,200,{leading:!0,trailing:!1}),t=_([]);function n(o){e(),t.value=[...o]}function a(o){e(),t.value=t.value.map(p=>p.id===o.id?o:p)}function l(o){e(),t.value=t.value.filter(p=>p.id!==o.id)}function f(o){const p=t.value.findIndex(R=>R.id===o.id);if(p===0)return;e();const C=t.value[p-1];t.value[p-1]=o,t.value[p]=C}function u(o){const p=t.value.findIndex(R=>R.id===o.id);if(p===t.value.length-1)return;e();const C=t.value[p+1];t.value[p+1]=o,t.value[p]=C}async function m(o="Text"){const p={id:`${Date.now()}`,type:"TEXT",text:o,align:"center",alignLast:"auto",color:"#333333FF",size:16,weight:400,position:{x:10,y:10,width:300,rotate:0,transformOrigin:"center center"}};e(),t.value.push(p)}async function h(o=""){const{width:p}=await Nt(o),C={id:`${Date.now()}`,type:"IMAGE",src:o,position:{x:0,y:0,width:p,rotate:0,transformOrigin:"center center"}};e(),t.value.push(C)}async function c(o="QrCode"){const p={id:`${Date.now()}`,type:"QR_CODE",text:o,color:"#000000FF",background:"#00000000",position:{x:0,y:0,width:100,rotate:0,transformOrigin:"center center"}};e(),t.value.push(p)}const b=E(()=>[...t.value].reverse());function w(o){n([...o].reverse())}const x=_("EDIT");function T(o){x.value=o}const k=_(null),P=E(()=>t.value.find(o=>o.id===k.value)||null);function M(o){if(!o){k.value=null;return}k.value=o.id}const $=_([]),r=_([]);function y(){if(!$.value.length)return;const o=$.value.splice(-1)[0];o&&(r.value.push(t.value),t.value=o)}function v(){if(!r.value.length)return;const o=r.value.splice(-1)[0];o&&($.value.push(t.value),t.value=o)}function s(){for(;$.value.length>=15;)$.value.shift();$.value.push([...t.value])}function i(){r.value=[]}function d(){s(),i()}return{items:t,canvasMode:x,selectedItemId:k,undoStack:$,redoStack:r,selectedItem:P,revertedItems:b,setItems:n,setRevertedItems:w,updateItem:a,addItemText:m,addItemImage:h,addItemQRCode:c,removeItem:l,moveItemUp:u,moveItemDown:f,setCanvasMode:T,setSelectItem:M,undo:y,redo:v}}),Un=["innerHTML"],Hn=["innerHTML"],Gn="plaintext-only",Xn=B({__name:"PaperWalletCanvasText",props:{item:{}},emits:["updateText"],setup(e,{emit:t}){const n=e,a=E(()=>({cursor:"move",position:"absolute",fontSize:n.item.size+"px",fontWeight:n.item.weight,textAlign:n.item.align,textAlignLast:n.item.alignLast,color:n.item.color,left:n.item.position.x+"px",top:n.item.position.y+"px",width:n.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${n.item.position.rotate}deg)`,transformOrigin:n.item.position.transformOrigin,lineHeight:"normal"})),l=_(),f=_(!1),u=_(""),m=E(()=>n.item.text.replace(/\n/g,"<br>"));function h(w){const x=w.target?.textContent||"";t("updateText",x)}function c(){f.value=!0,u.value=n.item.text,it(()=>{const w=l.value;if(!w)return;w.focus();const x=document.createRange();x.selectNodeContents(w),x.collapse(!1);const T=window.getSelection();T&&(T.removeAllRanges(),T.addRange(x))})}function b(){f.value=!1}return(w,x)=>f.value?(I(),L("div",{key:1,contenteditable:Gn,onBlur:b,onInput:h,style:X(a.value),ref_key:"editRef",ref:l,innerHTML:u.value,class:"paper-wallet-canvas-text__editable"},null,44,Hn)):(I(),L("div",{key:0,onDblclick:c,style:X(a.value),innerHTML:m.value},null,44,Un))}});const Yn=be(Xn,[["__scopeId","data-v-75e3ff99"]]),Vn=["src"],Qn=B({__name:"PaperWalletCanvasImage",props:{item:{}},emits:["load"],setup(e,{emit:t}){const n=e,a=E(()=>({cursor:"move",position:"absolute",left:n.item.position.x+"px",top:n.item.position.y+"px",width:n.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${n.item.position.rotate}deg)`,transformOrigin:n.item.position.transformOrigin}));return(l,f)=>(I(),L("img",{src:l.item.src,alt:"",draggable:"false",style:X(a.value),onLoad:f[0]||(f[0]=u=>t("load",l.item))},null,44,Vn))}}),Kn=B({__name:"PaperWalletCanvasQrCode",props:{item:{}},setup(e){const t=e,n=E(()=>({cursor:"move",position:"absolute",left:t.item.position.x+"px",top:t.item.position.y+"px",width:t.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${t.item.position.rotate}deg)`,transformOrigin:t.item.position.transformOrigin,lineHeight:0}));return(a,l)=>(I(),W(gt,{text:a.item.text,width:a.item.position.width,style:X(n.value),background:a.item.background,color:a.item.color},null,8,["text","width","style","background","color"]))}}),qn=B({__name:"PaperWalletCanvas",props:{items:{},view:{},isEditMode:{type:Boolean},selectedItemId:{}},emits:["updateItem","select","load"],setup(e,{expose:t,emit:n}){const a=e,l=_(null);let f=!1,u=null,m=0,h=0;const c=st();function b(r,y){a.isEditMode&&(f=!0,u=r,n("select",r),m=r.position.x-y.clientX,h=r.position.y-y.clientY,addEventListener("mouseup",w))}function w(){f=!1,u=null,removeEventListener("mouseup",w)}lt(()=>{removeEventListener("mouseup",w)});function x(r){if(!f||!u)return;const y=T(m+r.clientX,h+r.clientY,u);n("updateItem",y)}function T(r,y,v){return{...v,position:{...v.position,x:r,y}}}function k(r,y){const v={...r,text:y};n("updateItem",v)}const P=_([]),M=E(()=>new Set(a.items.filter(r=>r.type==="IMAGE").map(r=>r.id)));function $(r){P.value=[...P.value,r.id].filter(y=>M.value.has(y))}return me(()=>l.value&&P.value.length===M.value.size,r=>{r&&n("load")},{immediate:!0}),t({targetElement:l}),(r,y)=>(I(),L("div",{class:ct(["paper-wallet-canvas",{"paper-wallet-canvas--edit-mode":r.view==="EDIT","paper-wallet-canvas--print-mode":r.view==="PRINT","paper-wallet-canvas--preview-mode":r.view==="PREVIEW"&&!O(c),"paper-wallet-canvas--preview-mode-dark":r.view==="PREVIEW"&&O(c)}]),onMousemove:x,ref_key:"targetElement",ref:l},[(I(!0),L(K,null,dt(r.items,v=>(I(),L(K,{key:v.id},[v.type==="TEXT"?(I(),W(Yn,{key:0,item:v,onMousedown:s=>b(v,s),onUpdateText:s=>k(v,s),"data-selected-item":r.selectedItemId===v.id},null,8,["item","onMousedown","onUpdateText","data-selected-item"])):q("",!0),v.type==="IMAGE"?(I(),W(Qn,{key:1,item:v,"data-selected-item":r.selectedItemId===v.id,onMousedown:s=>b(v,s),onLoad:$},null,8,["item","data-selected-item","onMousedown"])):v.type==="QR_CODE"?(I(),W(Kn,{key:2,item:v,onMousedown:s=>b(v,s),"data-selected-item":r.selectedItemId===v.id},null,8,["item","onMousedown","data-selected-item"])):q("",!0)],64))),128))],34))}});const Jn=be(qn,[["__scopeId","data-v-87ed0620"]]);const Zn=B({__name:"PaperWalletDownloadForm",emits:["submit"],setup(e,{emit:t}){const n=_("PNG"),a=_("PRINT"),l=[{label:"Download as PNG",value:"PNG"},{label:"Download as JPEG",value:"JPEG"}],f=[{label:"Print Mode",value:"PRINT"},{label:"Preview Mode",value:"VIEW"},{label:"Edit Mode",value:"EDIT"}];async function u(){t("submit",{typeOfDownload:n.value,canvasMode:a.value})}return(m,h)=>(I(),W(O(ut),null,{default:A(()=>[j(O(re),{trigger:"hover",options:l,value:n.value,"onUpdate:value":h[0]||(h[0]=c=>n.value=c),"consistent-menu-width":!1,style:{minWidth:"170px"}},null,8,["value"]),j(O(re),{trigger:"hover",options:f,value:a.value,"onUpdate:value":h[1]||(h[1]=c=>a.value=c),"consistent-menu-width":!1,style:{minWidth:"170px"}},null,8,["value"]),j(O(we),{onClick:u},{default:A(()=>[ye("Download")]),_:1})]),_:1}))}});function eo(e,t){switch(t){case"PNG":return ae(e,"paper-wallet");case"JPEG":return ae(e,"paper-wallet")}}const ro=B({__name:"DownloadPaperWallet",props:{items:{}},setup(e){const t=bt(),n=_(),a=_(!1),l=_(!1),f=_("PNG"),u=_("PRINT");async function m(c){u.value=c.canvasMode,f.value=c.typeOfDownload,l.value=!0}async function h(){try{let c=n.value?.targetElement;if(!c){l.value=!1,t.error("Problem with canvas element");return}await eo(c,f.value)}catch(c){t.error(typeof c=="string"?c:"Something went wrong")}finally{l.value=!1}}return(c,b)=>(I(),L(K,null,[j(O(we),{onClick:b[0]||(b[0]=w=>a.value=!a.value)},{icon:A(()=>[j(O(Wt))]),default:A(()=>[ye(" Download Image ")]),_:1}),j(O(Rt),{show:a.value,"onUpdate:show":b[1]||(b[1]=w=>a.value=w),height:320,placement:"bottom"},{default:A(()=>[j(O(Dt),{title:"Download paper wallet",closable:""},{default:A(()=>[j(O(Zn),{onSubmit:m})]),_:1})]),_:1},8,["show"]),(I(),W(ft,{to:"body"},[l.value?(I(),W(O(Jn),{key:0,items:c.items,view:u.value,ref_key:"canvasEl",ref:n,onLoad:h},null,8,["items","view"])):q("",!0)]))],64))}});export{Dt as N,Jn as P,ro as _,Rt as a,oo as u};
