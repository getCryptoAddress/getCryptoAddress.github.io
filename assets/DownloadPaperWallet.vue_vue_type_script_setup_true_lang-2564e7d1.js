import{u as Ye,a as Ve,e as Qe,i as X,j as me,_ as Ke,b as ne,f as re,d as qe}from"./downloadHtmlAsPng-ec9e42a4.js";import{d as P,g as y,C as he,bA as Z,I as E,A as pe,H as Je,aO as Ze,a6 as ge,l as be,al as et,a8 as G,aa as tt,ab as nt,a9 as rt,ag as K,ah as oe,p as $,aj as ot,ak as we,af as at,ai as ye,s as b,bB as V,t as k,v as D,u as A,ao as it,ar as st,G as _e,bC as lt,E as ae,D as ie,aE as se,J as dt,as as ct,at as ut,O as W,aD as ft,a1 as vt,o as T,c as L,a as Y,bt as mt,bc as U,an as xe,_ as ee,b as N,bD as ht,aQ as q,aS as pt,aR as J,aH as $e,w as F,aK as j,aL as M,$ as Se,e as Te,aN as gt,bE as bt,bf as wt,r as yt,aT as _t,bk as xt}from"./index-cb9d8176.js";const $t=P({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(e){const t=y(!!e.show),n=y(null),o=he(Z);let a=0,u="",c=null;const v=y(!1),f=y(!1),i=E(()=>e.placement==="top"||e.placement==="bottom"),{mergedClsPrefixRef:m,mergedRtlRef:_}=pe(e),S=Je("Drawer",_,m),I=d=>{f.value=!0,a=i.value?d.clientY:d.clientX,u=document.body.style.cursor,document.body.style.cursor=i.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",w),document.body.addEventListener("mouseleave",x),document.body.addEventListener("mouseup",h)},z=()=>{c!==null&&(window.clearTimeout(c),c=null),f.value?v.value=!0:c=window.setTimeout(()=>{v.value=!0},300)},R=()=>{c!==null&&(window.clearTimeout(c),c=null),v.value=!1},{doUpdateHeight:B,doUpdateWidth:s}=o,w=d=>{var r,g;if(f.value)if(i.value){let C=((r=n.value)===null||r===void 0?void 0:r.offsetHeight)||0;const O=a-d.clientY;C+=e.placement==="bottom"?O:-O,B(C),a=d.clientY}else{let C=((g=n.value)===null||g===void 0?void 0:g.offsetWidth)||0;const O=a-d.clientX;C+=e.placement==="right"?O:-O,s(C),a=d.clientX}},h=()=>{f.value&&(a=0,f.value=!1,document.body.style.cursor=u,document.body.removeEventListener("mousemove",w),document.body.removeEventListener("mouseup",h),document.body.removeEventListener("mouseleave",x))},x=h;Ze(()=>{e.show&&(t.value=!0)}),ge(()=>e.show,d=>{d||h()}),be(()=>{h()});const p=E(()=>{const{show:d}=e,r=[[oe,d]];return e.showMask||r.push([et,e.onClickoutside,void 0,{capture:!0}]),r});function l(){var d;t.value=!1,(d=e.onAfterLeave)===null||d===void 0||d.call(e)}return Ye(E(()=>e.blockScroll&&t.value)),G(tt,n),G(nt,null),G(rt,null),{bodyRef:n,rtlEnabled:S,mergedClsPrefix:o.mergedClsPrefixRef,isMounted:o.isMountedRef,mergedTheme:o.mergedThemeRef,displayed:t,transitionName:E(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[e.placement]),handleAfterLeave:l,bodyDirectives:p,handleMousedownResizeTrigger:I,handleMouseenterResizeTrigger:z,handleMouseleaveResizeTrigger:R,isDragging:f,isHoverOnResizeTrigger:v}},render(){const{$slots:e,mergedClsPrefix:t}=this;return this.displayDirective==="show"||this.displayed||this.show?K($("div",{role:"none"},$(ot,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>$(we,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>K($("div",at(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${t}-drawer`,this.rtlEnabled&&`${t}-drawer--rtl`,`${t}-drawer--${this.placement}-placement`,this.isDragging&&`${t}-drawer--unselectable`,this.nativeScrollbar&&`${t}-drawer--native-scrollbar`]}),[this.resizable?$("div",{class:[`${t}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${t}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?$("div",{class:`${t}-drawer-content-wrapper`,style:this.contentStyle,role:"none"},e):$(ye,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:`${t}-drawer-content-wrapper`,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),e)]),this.bodyDirectives)})})),[[oe,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:St,cubicBezierEaseOut:Tt}=V;function Et({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-right"}={}){return[b(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${St}`}),b(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Tt}`}),b(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),b(`&.${n}-transition-enter-from`,{transform:"translateX(100%)"}),b(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),b(`&.${n}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:It,cubicBezierEaseOut:zt}=V;function Ct({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-left"}={}){return[b(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${It}`}),b(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${zt}`}),b(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),b(`&.${n}-transition-enter-from`,{transform:"translateX(-100%)"}),b(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),b(`&.${n}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:kt,cubicBezierEaseOut:Ot}=V;function Mt({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-top"}={}){return[b(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${kt}`}),b(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Ot}`}),b(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),b(`&.${n}-transition-enter-from`,{transform:"translateY(-100%)"}),b(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),b(`&.${n}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:Pt,cubicBezierEaseOut:Rt}=V;function Bt({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-bottom"}={}){return[b(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${Pt}`}),b(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Rt}`}),b(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),b(`&.${n}-transition-enter-from`,{transform:"translateY(100%)"}),b(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),b(`&.${n}-transition-leave-to`,{transform:"translateY(100%)"})]}const Dt=b([k("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[Et(),Ct(),Mt(),Bt(),D("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),D("native-scrollbar",[k("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),A("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[D("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),k("drawer-content-wrapper",`
 box-sizing: border-box;
 `),k("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[D("native-scrollbar",[k("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),k("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),k("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),k("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[A("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),k("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),D("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 `,[A("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),D("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 `,[A("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),D("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 `,[A("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),D("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 `,[A("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),b("body",[b(">",[k("drawer-container",{position:"fixed"})])]),k("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[b("> *",{pointerEvents:"all"})]),k("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[D("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),it({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),jt=Object.assign(Object.assign({},_e.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Lt=P({name:"Drawer",inheritAttrs:!1,props:jt,setup(e){const{mergedClsPrefixRef:t,namespaceRef:n,inlineThemeDisabled:o}=pe(e),a=st(),u=_e("Drawer","-drawer",Dt,lt,e,t),c=y(e.defaultWidth),v=y(e.defaultHeight),f=ae(ie(e,"width"),c),i=ae(ie(e,"height"),v),m=E(()=>{const{placement:p}=e;return p==="top"||p==="bottom"?"":se(f.value)}),_=E(()=>{const{placement:p}=e;return p==="left"||p==="right"?"":se(i.value)}),S=p=>{const{onUpdateWidth:l,"onUpdate:width":d}=e;l&&W(l,p),d&&W(d,p),c.value=p},I=p=>{const{onUpdateHeight:l,"onUpdate:width":d}=e;l&&W(l,p),d&&W(d,p),v.value=p},z=E(()=>[{width:m.value,height:_.value},e.drawerStyle||""]);function R(p){const{onMaskClick:l,maskClosable:d}=e;d&&w(!1),l&&l(p)}const B=Ve();function s(p){var l;(l=e.onEsc)===null||l===void 0||l.call(e),e.show&&e.closeOnEsc&&Qe(p)&&!B.value&&w(!1)}function w(p){const{onHide:l,onUpdateShow:d,"onUpdate:show":r}=e;d&&W(d,p),r&&W(r,p),l&&!p&&W(l,p)}G(Z,{isMountedRef:a,mergedThemeRef:u,mergedClsPrefixRef:t,doUpdateShow:w,doUpdateHeight:I,doUpdateWidth:S});const h=E(()=>{const{common:{cubicBezierEaseInOut:p,cubicBezierEaseIn:l,cubicBezierEaseOut:d},self:{color:r,textColor:g,boxShadow:C,lineHeight:O,headerPadding:ke,footerPadding:Oe,bodyPadding:Me,titleFontSize:Pe,titleTextColor:Re,titleFontWeight:Be,headerBorderBottom:De,footerBorderTop:je,closeIconColor:Le,closeIconColorHover:We,closeIconColorPressed:Fe,closeColorHover:Ne,closeColorPressed:Ae,closeIconSize:Ue,closeSize:He,closeBorderRadius:Xe,resizableTriggerColorHover:Ge}}=u.value;return{"--n-line-height":O,"--n-color":r,"--n-text-color":g,"--n-box-shadow":C,"--n-bezier":p,"--n-bezier-out":d,"--n-bezier-in":l,"--n-header-padding":ke,"--n-body-padding":Me,"--n-footer-padding":Oe,"--n-title-text-color":Re,"--n-title-font-size":Pe,"--n-title-font-weight":Be,"--n-header-border-bottom":De,"--n-footer-border-top":je,"--n-close-icon-color":Le,"--n-close-icon-color-hover":We,"--n-close-icon-color-pressed":Fe,"--n-close-size":He,"--n-close-color-hover":Ne,"--n-close-color-pressed":Ae,"--n-close-icon-size":Ue,"--n-close-border-radius":Xe,"--n-resize-trigger-color-hover":Ge}}),x=o?dt("drawer",void 0,h,e):void 0;return{mergedClsPrefix:t,namespace:n,mergedBodyStyle:z,handleMaskClick:R,handleEsc:s,mergedTheme:u,cssVars:o?void 0:h,themeClass:x?.themeClass,onRender:x?.onRender,isMounted:a}},render(){const{mergedClsPrefix:e}=this;return $(ut,{to:this.to,show:this.show},{default:()=>{var t;return(t=this.onRender)===null||t===void 0||t.call(this),K($("div",{class:[`${e}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?$(we,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?$("div",{"aria-hidden":!0,class:[`${e}-drawer-mask`,this.showMask==="transparent"&&`${e}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,$($t,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleMaskClick}),this.$slots)),[[ct,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Wt={title:{type:String},headerStyle:[Object,String],footerStyle:[Object,String],bodyStyle:[Object,String],bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Ft=P({name:"DrawerContent",props:Wt,setup(){const e=he(Z,null);e||ft("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:t}=e;function n(){t(!1)}return{handleCloseClick:n,mergedTheme:e.mergedThemeRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{title:e,mergedClsPrefix:t,nativeScrollbar:n,mergedTheme:o,bodyStyle:a,bodyContentStyle:u,headerStyle:c,footerStyle:v,scrollbarProps:f,closable:i,$slots:m}=this;return $("div",{role:"none",class:[`${t}-drawer-content`,n&&`${t}-drawer-content--native-scrollbar`]},m.header||e||i?$("div",{class:`${t}-drawer-header`,style:c,role:"none"},$("div",{class:`${t}-drawer-header__main`,role:"heading","aria-level":"1"},m.header!==void 0?m.header():e),i&&$(vt,{onClick:this.handleCloseClick,clsPrefix:t,class:`${t}-drawer-header__close`,absolute:!0})):null,n?$("div",{class:`${t}-drawer-body`,style:a,role:"none"},$("div",{class:`${t}-drawer-body-content-wrapper`,style:u,role:"none"},m)):$(ye,Object.assign({themeOverrides:o.peerOverrides.Scrollbar,theme:o.peers.Scrollbar},f,{class:`${t}-drawer-body`,contentClass:`${t}-drawer-body-content-wrapper`,contentStyle:u}),m),m.footer?$("div",{class:`${t}-drawer-footer`,style:v,role:"none"},m.footer()):null)}}),Nt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16"},At=Y("g",{fill:"none"},[Y("path",{d:"M3.5 13h9a.5.5 0 0 1 .09.992L12.5 14h-9a.5.5 0 0 1-.09-.992L3.5 13h9h-9zM7.91 1.008L8 1a.5.5 0 0 1 .492.41l.008.09v8.792l2.682-2.681a.5.5 0 0 1 .638-.058l.07.058a.5.5 0 0 1 .057.638l-.058.069l-3.535 3.536a.5.5 0 0 1-.638.057l-.07-.057l-3.535-3.536a.5.5 0 0 1 .638-.765l.069.058L7.5 10.292V1.5a.5.5 0 0 1 .41-.492L8 1l-.09.008z",fill:"currentColor"})],-1),Ut=[At],Ht=P({name:"ArrowDownload16Regular",render:function(t,n){return T(),L("svg",Nt,Ut)}});function Xt(e){return new Promise(t=>{const n=new Image;n.onload=function(){t({width:n.width,height:n.height,src:e})},n.src=e})}function Gt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var te=Gt,Yt=typeof X=="object"&&X&&X.Object===Object&&X,Vt=Yt,Qt=Vt,Kt=typeof self=="object"&&self&&self.Object===Object&&self,qt=Qt||Kt||Function("return this")(),Ee=qt,Jt=Ee,Zt=function(){return Jt.Date.now()},en=Zt,tn=/\s/;function nn(e){for(var t=e.length;t--&&tn.test(e.charAt(t)););return t}var rn=nn,on=rn,an=/^\s+/;function sn(e){return e&&e.slice(0,on(e)+1).replace(an,"")}var ln=sn,dn=Ee,cn=dn.Symbol,Ie=cn,le=Ie,ze=Object.prototype,un=ze.hasOwnProperty,fn=ze.toString,H=le?le.toStringTag:void 0;function vn(e){var t=un.call(e,H),n=e[H];try{e[H]=void 0;var o=!0}catch{}var a=fn.call(e);return o&&(t?e[H]=n:delete e[H]),a}var mn=vn,hn=Object.prototype,pn=hn.toString;function gn(e){return pn.call(e)}var bn=gn,de=Ie,wn=mn,yn=bn,_n="[object Null]",xn="[object Undefined]",ce=de?de.toStringTag:void 0;function $n(e){return e==null?e===void 0?xn:_n:ce&&ce in Object(e)?wn(e):yn(e)}var Sn=$n;function Tn(e){return e!=null&&typeof e=="object"}var En=Tn,In=Sn,zn=En,Cn="[object Symbol]";function kn(e){return typeof e=="symbol"||zn(e)&&In(e)==Cn}var On=kn,Mn=ln,ue=te,Pn=On,fe=0/0,Rn=/^[-+]0x[0-9a-f]+$/i,Bn=/^0b[01]+$/i,Dn=/^0o[0-7]+$/i,jn=parseInt;function Ln(e){if(typeof e=="number")return e;if(Pn(e))return fe;if(ue(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ue(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Mn(e);var n=Bn.test(e);return n||Dn.test(e)?jn(e.slice(2),n?2:8):Rn.test(e)?fe:+e}var Wn=Ln,Fn=te,Q=en,ve=Wn,Nn="Expected a function",An=Math.max,Un=Math.min;function Hn(e,t,n){var o,a,u,c,v,f,i=0,m=!1,_=!1,S=!0;if(typeof e!="function")throw new TypeError(Nn);t=ve(t)||0,Fn(n)&&(m=!!n.leading,_="maxWait"in n,u=_?An(ve(n.maxWait)||0,t):u,S="trailing"in n?!!n.trailing:S);function I(l){var d=o,r=a;return o=a=void 0,i=l,c=e.apply(r,d),c}function z(l){return i=l,v=setTimeout(s,t),m?I(l):c}function R(l){var d=l-f,r=l-i,g=t-d;return _?Un(g,u-r):g}function B(l){var d=l-f,r=l-i;return f===void 0||d>=t||d<0||_&&r>=u}function s(){var l=Q();if(B(l))return w(l);v=setTimeout(s,R(l))}function w(l){return v=void 0,S&&o?I(l):(o=a=void 0,c)}function h(){v!==void 0&&clearTimeout(v),i=0,o=f=a=v=void 0}function x(){return v===void 0?c:w(Q())}function p(){var l=Q(),d=B(l);if(o=arguments,a=this,f=l,d){if(v===void 0)return z(f);if(_)return clearTimeout(v),v=setTimeout(s,t),I(f)}return v===void 0&&(v=setTimeout(s,t)),c}return p.cancel=h,p.flush=x,p}var Ce=Hn;const Xn=me(Ce),mr=mt("paperWallet",()=>{const e=Xn(d,200,{leading:!0,trailing:!1}),t=y([]);function n(r){e(),t.value=[...r]}function o(r){e(),t.value=t.value.map(g=>g.id===r.id?r:g)}function a(r){e(),t.value=t.value.filter(g=>g.id!==r.id)}function u(r){const g=t.value.findIndex(O=>O.id===r.id);if(g===0)return;e();const C=t.value[g-1];t.value[g-1]=r,t.value[g]=C}function c(r){const g=t.value.findIndex(O=>O.id===r.id);if(g===t.value.length-1)return;e();const C=t.value[g+1];t.value[g+1]=r,t.value[g]=C}async function v(r="Text"){const g={id:`${Date.now()}`,type:"TEXT",text:r,align:"center",alignLast:"auto",color:"#333333FF",size:16,weight:400,position:{x:10,y:10,width:300,rotate:0,transformOrigin:"center center"}};e(),t.value.push(g)}async function f(r=""){const{width:g}=await Xt(r),C={id:`${Date.now()}`,type:"IMAGE",src:r,position:{x:0,y:0,width:g,rotate:0,transformOrigin:"center center"}};e(),t.value.push(C)}async function i(r="QrCode"){const g={id:`${Date.now()}`,type:"QR_CODE",text:r,color:"#000000FF",background:"#00000000",position:{x:0,y:0,width:100,rotate:0,transformOrigin:"center center"}};e(),t.value.push(g)}const m=E(()=>[...t.value].reverse());function _(r){n([...r].reverse())}const S=y("EDIT");function I(r){S.value=r}const z=y(null),R=E(()=>t.value.find(r=>r.id===z.value)||null);function B(r){if(!r){z.value=null;return}z.value=r.id}const s=y([]),w=y([]);function h(){if(!s.value.length)return;const r=s.value.splice(-1)[0];r&&(w.value.push(t.value),t.value=r)}function x(){if(!w.value.length)return;const r=w.value.splice(-1)[0];r&&(s.value.push(t.value),t.value=r)}function p(){for(;s.value.length>=15;)s.value.shift();s.value.push([...t.value])}function l(){w.value=[]}function d(){p(),l()}return{items:t,canvasMode:S,selectedItemId:z,undoStack:s,redoStack:w,selectedItem:R,revertedItems:m,setItems:n,setRevertedItems:_,updateItem:o,addItemText:v,addItemImage:f,addItemQRCode:i,removeItem:a,moveItemUp:c,moveItemDown:u,setCanvasMode:I,setSelectItem:B,undo:h,redo:x}}),Gn=["innerHTML"],Yn=["innerHTML"],Vn="plaintext-only",Qn=P({__name:"PaperWalletCanvasText",props:{item:{}},emits:["updateText"],setup(e,{emit:t}){const n=e,o=E(()=>({cursor:"move",position:"absolute",fontSize:n.item.size+"px",fontWeight:n.item.weight,textAlign:n.item.align,textAlignLast:n.item.alignLast,color:n.item.color,left:n.item.position.x+"px",top:n.item.position.y+"px",width:n.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${n.item.position.rotate}deg)`,transformOrigin:n.item.position.transformOrigin,lineHeight:"normal"})),a=y(),u=y(!1),c=y(""),v=E(()=>n.item.text.replace(/\n/g,"<br>"));function f(_){const S=_.target?.textContent||"";t("updateText",S)}function i(){u.value=!0,c.value=n.item.text,xe(()=>{const _=a.value;if(!_)return;_.focus();const S=document.createRange();S.selectNodeContents(_),S.collapse(!1);const I=window.getSelection();I&&(I.removeAllRanges(),I.addRange(S))})}function m(){u.value=!1}return(_,S)=>u.value?(T(),L("div",{key:1,contenteditable:Vn,onBlur:m,onInput:f,style:U(o.value),ref_key:"editRef",ref:a,innerHTML:c.value,class:"paper-wallet-canvas-text__editable"},null,44,Yn)):(T(),L("div",{key:0,onDblclick:i,style:U(o.value),innerHTML:v.value},null,44,Gn))}});const Kn=ee(Qn,[["__scopeId","data-v-75e3ff99"]]),qn=["src"],Jn=P({__name:"PaperWalletCanvasImage",props:{item:{}},emits:["load"],setup(e,{emit:t}){const n=e,o=E(()=>({cursor:"move",position:"absolute",left:n.item.position.x+"px",top:n.item.position.y+"px",width:n.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${n.item.position.rotate}deg)`,transformOrigin:n.item.position.transformOrigin}));return(a,u)=>(T(),L("img",{src:a.item.src,alt:"",draggable:"false",style:U(o.value),onLoad:u[0]||(u[0]=c=>t("load",a.item))},null,44,qn))}}),Zn=P({__name:"PaperWalletCanvasQrCode",props:{item:{}},setup(e){const t=e,n=E(()=>({cursor:"move",position:"absolute",left:t.item.position.x+"px",top:t.item.position.y+"px",width:t.item.position.width+"px",overflowWrap:"anywhere",userSelect:"none",transform:`rotate(${t.item.position.rotate}deg)`,transformOrigin:t.item.position.transformOrigin,lineHeight:0}));return(o,a)=>(T(),N(Ke,{text:o.item.text,width:o.item.position.width,style:U(n.value),background:o.item.background,color:o.item.color},null,8,["text","width","style","background","color"]))}}),er=P({__name:"PaperWalletCanvas",props:{items:{},view:{},isEditMode:{type:Boolean},selectedItemId:{}},emits:["updateItem","select","load"],setup(e,{expose:t,emit:n}){const o=e,a=y(null);let u=!1,c=null,v=0,f=0;function i(s,w){o.isEditMode&&(u=!0,c=s,n("select",s),v=s.position.x-w.clientX,f=s.position.y-w.clientY,addEventListener("mouseup",m))}function m(){u=!1,c=null,removeEventListener("mouseup",m)}ht(()=>{removeEventListener("mouseup",m)});function _(s){if(!u||!c)return;const w=S(v+s.clientX,f+s.clientY,c);n("updateItem",w)}function S(s,w,h){return{...h,position:{...h.position,x:s,y:w}}}function I(s,w){const h={...s,text:w};n("updateItem",h)}const z=y([]),R=E(()=>new Set(o.items.filter(s=>s.type==="IMAGE").map(s=>s.id)));function B(s){z.value=[...z.value,s.id].filter(w=>R.value.has(w))}return ge(()=>a.value&&z.value.length===R.value.size,s=>{s&&n("load")},{immediate:!0}),t({targetElement:a}),(s,w)=>(T(),L("div",{class:$e(["paper-wallet-canvas",{"paper-wallet-canvas--edit-mode":s.view==="EDIT","paper-wallet-canvas--print-mode":s.view==="PRINT"}]),onMousemove:_,ref_key:"targetElement",ref:a},[(T(!0),L(q,null,pt(s.items,h=>(T(),L(q,{key:h.id},[h.type==="TEXT"?(T(),N(Kn,{key:0,item:h,onMousedown:x=>i(h,x),onUpdateText:x=>I(h,x),"data-selected-item":s.selectedItemId===h.id},null,8,["item","onMousedown","onUpdateText","data-selected-item"])):J("",!0),h.type==="IMAGE"?(T(),N(Jn,{key:1,item:h,"data-selected-item":s.selectedItemId===h.id,onMousedown:x=>i(h,x),onLoad:B},null,8,["item","data-selected-item","onMousedown"])):h.type==="QR_CODE"?(T(),N(Zn,{key:2,item:h,onMousedown:x=>i(h,x),"data-selected-item":s.selectedItemId===h.id},null,8,["item","onMousedown","data-selected-item"])):J("",!0)],64))),128))],34))}});const tr=ee(er,[["__scopeId","data-v-165662b4"]]);const nr=P({__name:"PaperWalletDownloadForm",emits:["submit"],setup(e,{emit:t}){const n=y("PNG"),o=y("PRINT"),a=[{label:"Download as PNG",value:"PNG"},{label:"Download as JPEG",value:"JPEG"}],u=[{label:"Print Mode",value:"PRINT"},{label:"Preview Mode",value:"VIEW"},{label:"Edit Mode",value:"EDIT"}];async function c(){t("submit",{typeOfDownload:n.value,canvasMode:o.value})}return(v,f)=>(T(),N(M(gt),null,{default:F(()=>[j(M(ne),{trigger:"hover",options:a,value:n.value,"onUpdate:value":f[0]||(f[0]=i=>n.value=i),"consistent-menu-width":!1,style:{minWidth:"170px"}},null,8,["value"]),j(M(ne),{trigger:"hover",options:u,value:o.value,"onUpdate:value":f[1]||(f[1]=i=>o.value=i),"consistent-menu-width":!1,style:{minWidth:"170px"}},null,8,["value"]),j(M(Se),{onClick:c},{default:F(()=>[Te("Download")]),_:1})]),_:1}))}});var rr=Ce,or=te,ar="Expected a function";function ir(e,t,n){var o=!0,a=!0;if(typeof e!="function")throw new TypeError(ar);return or(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),rr(e,t,{leading:o,maxWait:t,trailing:a})}var sr=ir;const lr=me(sr),dr={class:"resizable-paper-wallet-wrapper"},cr=P({__name:"ResizablePaperWalletWrapper",props:{bordered:{type:Boolean}},setup(e){const t=e,n=y(),o=bt(),a=y(1),u=y("auto"),c=E(()=>({"resizable-paper-wallet-wrapper__container":!0,"resizable-paper-wallet-wrapper__bordered":t.bordered,"resizable-paper-wallet-wrapper__bordered--dark":t.bordered&&o.value}));function v(i){return Math.max(0,...[...i.children].map(m=>m instanceof HTMLDivElement?m.offsetWidth:0))}const f=lr(()=>{if(!n.value){console.error("Container not found");return}const i=v(n.value);if(!i)return;const m=n.value.offsetWidth/i;a.value=m<1?m:1,u.value=`${n.value.offsetHeight*a.value}px`},100);return wt(()=>{window.addEventListener("resize",f),f()}),be(()=>{window.removeEventListener("resize",f)}),(i,m)=>(T(),L("div",dr,[Y("div",{ref:"container",class:$e(c.value),style:U({height:u.value})},[Y("div",{class:"resizable-paper-wallet-wrapper__area",ref_key:"area",ref:n,style:U({transform:`scale(${a.value})`})},[yt(i.$slots,"default",{},void 0,!0)],4)],6)]))}});const hr=ee(cr,[["__scopeId","data-v-6d560681"]]);function ur(e,t){switch(t){case"PNG":return re(e,"paper-wallet");case"JPEG":return re(e,"paper-wallet")}}const pr=P({__name:"DownloadPaperWallet",props:{items:{}},setup(e){const t=qe(),n=y(),o=y(!1),a=y(!1),u=y("PNG"),c=y("PRINT");async function v(i){c.value=i.canvasMode,u.value=i.typeOfDownload,a.value=!0}async function f(){await xe(),await new Promise(i=>setTimeout(i,1));try{let i=n.value?.targetElement;if(!i){a.value=!1,t.error("Problem with canvas element");return}await ur(i,u.value)}catch(i){t.error(typeof i=="string"?i:"Something went wrong")}finally{a.value=!1}}return(i,m)=>(T(),L(q,null,[j(M(Se),{onClick:m[0]||(m[0]=_=>o.value=!o.value)},{icon:F(()=>[j(M(_t),null,{default:F(()=>[j(M(Ht))]),_:1})]),default:F(()=>[Te(" Download Image ")]),_:1}),j(M(Lt),{show:o.value,"onUpdate:show":m[1]||(m[1]=_=>o.value=_),height:320,placement:"bottom"},{default:F(()=>[j(M(Ft),{title:"Download paper wallet",closable:""},{default:F(()=>[j(M(nr),{onSubmit:v})]),_:1})]),_:1},8,["show"]),(T(),N(xt,{to:"body"},[a.value?(T(),N(M(tr),{key:0,items:i.items,view:c.value,ref_key:"canvasEl",ref:n,onLoad:f},null,8,["items","view"])):J("",!0)]))],64))}});export{Ft as N,tr as P,hr as R,pr as _,Lt as a,mr as u};
